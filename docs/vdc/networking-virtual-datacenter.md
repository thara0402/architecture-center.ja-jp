---
title: Azure 仮想データセンター:ネットワーク パースペクティブ
description: Azure で仮想データセンターを構築する方法について説明します
author: tracsman
manager: rossort
tags: azure-resource-manager
ms.topic: guide
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.custom: virtual-network
ms.date: 11/28/2018
ms.author: jonor
ms.openlocfilehash: a997a0f03da63bc1432f61f3299e7c6794278e5e
ms.sourcegitcommit: 3b15d65e7c35a19506e562c444343f8467b6a073
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/25/2019
ms.locfileid: "54908558"
---
# <a name="azure-virtual-datacenter-a-network-perspective"></a><span data-ttu-id="9bf0a-103">Azure 仮想データセンター:ネットワーク パースペクティブ</span><span class="sxs-lookup"><span data-stu-id="9bf0a-103">Azure virtual datacenter: A network perspective</span></span>

## <a name="overview"></a><span data-ttu-id="9bf0a-104">概要</span><span class="sxs-lookup"><span data-stu-id="9bf0a-104">Overview</span></span>

<span data-ttu-id="9bf0a-105">オンプレミスのアプリケーションを Azure に移行すると、最小限の変更でアプリケーションを移行した場合でも、セキュリティで保護されたコスト効率の高いインフラストラクチャのメリットが組織にもたらされます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-105">Migrating on-premises applications to Azure provides organizations the benefits of a secured and cost-efficient infrastructure, even if the applications are migrated with minimal changes.</span></span> <span data-ttu-id="9bf0a-106">ただし、クラウド コンピューティングで可能な俊敏性を最大限に活用するには、Azure の機能を利用するように企業のアーキテクチャを進化させる必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-106">However, to make the most of the agility possible with cloud computing, enterprises must evolve their architectures to take advantage of Azure capabilities.</span></span> 

<span data-ttu-id="9bf0a-107">Microsoft Azure では、ハイパースケールのサービスとインフラストラクチャ、エンタープライズ レベルの機能と信頼性が提供されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-107">Microsoft Azure delivers hyper-scale services and infrastructure with enterprise-grade capabilities and reliability.</span></span> <span data-ttu-id="9bf0a-108">これらのサービスとインフラストラクチャには、ハイブリッド接続でさまざまな選択肢が用意されているため、パブリック インターネット経由またはプライベート Azure ExpressRoute 接続経由でアクセスすることができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-108">These services and infrastructure offer many choices in hybrid connectivity so customers can choose to access them over the public internet or over a private Azure ExpressRoute connection.</span></span> <span data-ttu-id="9bf0a-109">また、Microsoft のパートナーも、Azure で実行するために最適化されたセキュリティ サービスと仮想アプライアンスにより、強化された機能を提供しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-109">Microsoft partners also provide enhanced capabilities by offering security services and virtual appliances that are optimized to run in Azure.</span></span>

<span data-ttu-id="9bf0a-110">お客様は、これらのクラウド サービスにインターネット経由でアクセスするか、プライベート ネットワーク接続を提供する Azure ExpressRoute を使ってアクセスするかを選択できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-110">Customers can choose to access these cloud services either via the internet or with Azure ExpressRoute, which provides private network connectivity.</span></span> <span data-ttu-id="9bf0a-111">Microsoft Azure プラットフォームを使用すると、インフラストラクチャをクラウドにシームレスに拡張し、多層アーキテクチャを構築できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-111">With the Microsoft Azure platform, customers can seamlessly extend their infrastructure into the cloud and build multi-tier architectures.</span></span> <span data-ttu-id="9bf0a-112">また、Microsoft のパートナーも、Azure で実行するために最適化されたセキュリティ サービスと仮想アプライアンスにより、強化された機能を提供しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-112">Microsoft partners also provide enhanced capabilities by offering security services and virtual appliances that are optimized to run in Azure.</span></span>

## <a name="what-is-the-virtual-datacenter"></a><span data-ttu-id="9bf0a-113">仮想データセンターとは</span><span class="sxs-lookup"><span data-stu-id="9bf0a-113">What is the Virtual datacenter?</span></span>

<span data-ttu-id="9bf0a-114">クラウドは、初期段階では一般に公開されているアプリケーションをホストするためのプラットフォームでした。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-114">At its inception, the cloud was essentially a platform for hosting public-facing applications.</span></span> <span data-ttu-id="9bf0a-115">企業はクラウドの価値を理解し始め、社内の基幹業務アプリケーションをクラウドに移行し始めました。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-115">Enterprises began to understand the value of the cloud and began to move internal line-of-business applications to the cloud.</span></span> <span data-ttu-id="9bf0a-116">このような種類のアプリケーションによってセキュリティ、信頼性、パフォーマンス、およびコストの考慮事項が増えたため、クラウド サービスの提供方法をさらに柔軟にする必要がありました。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-116">These types of applications brought additional security, reliability, performance, and cost considerations that required additional flexibility in the way cloud services were delivered.</span></span> <span data-ttu-id="9bf0a-117">その結果、このような柔軟性を実現するように設計された新しいインフラストラクチャとネットワーク サービスだけでなく、スケール、ディザスター リカバリーなどの考慮事項に対応する新しい機能への道が開かれました。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-117">This paved the way for new infrastructure and networking services designed to provide this flexibility but also new features for scale, disaster recovery, and other considerations.</span></span>

## <a name="what-is-a-virtual-datacenter"></a><span data-ttu-id="9bf0a-118">仮想データセンターとは</span><span class="sxs-lookup"><span data-stu-id="9bf0a-118">What is a virtual datacenter?</span></span>
<span data-ttu-id="9bf0a-119">当初、クラウド ソリューションは、パブリック領域で単一の比較的独立したアプリケーションをホストするように設計されていました。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-119">Cloud solutions were first designed to host single, relatively isolated applications in the public spectrum.</span></span> <span data-ttu-id="9bf0a-120">この方法は、数年間はうまくいっていました。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-120">This approach worked well for a few years.</span></span> <span data-ttu-id="9bf0a-121">その後、クラウド ソリューションの利点が明らかになり、複数の大規模なワークロードがクラウドでホストされるようになりました。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-121">Then the benefits of cloud solutions became apparent, and multiple large-scale workloads were hosted on the cloud.</span></span> <span data-ttu-id="9bf0a-122">クラウド サービスのライフ サイクル全体を通じて、1 つ以上のリージョンでのデプロイのセキュリティ、信頼性、パフォーマンス、コストの問題に対処することが不可欠になりました。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-122">Addressing security, reliability, performance, and cost concerns of deployments in one or more regions became vital throughout the life cycle of the cloud service.</span></span>

<span data-ttu-id="9bf0a-123">次のクラウド配置ダイアグラムでは、**赤色のボックス**にセキュリティ ギャップの例を示しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-123">The following cloud deployment diagram shows an example of a security gap in the **red box**.</span></span> <span data-ttu-id="9bf0a-124">**黄色のボックス**は、ワークロード間での最適化ネットワーク仮想アプライアンスの余地を示しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-124">The **yellow box** shows room for optimization network virtual appliances across workloads.</span></span>

<span data-ttu-id="9bf0a-125">[![0]][0]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-125">[![0]][0]</span></span>

<span data-ttu-id="9bf0a-126">仮想データ センター (VDC) は、エンタープライズ ワークロードをサポートするためのスケーリングの必要性から生まれた概念であり、パブリック クラウドで大規模なアプリケーションをサポートするときに発生する問題に対処する必要性ともバランスが取られています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-126">The Virtual datacenter (VDC) is a concept born of the necessity for scaling to support enterprise workloads while balancing the need to deal with the problems introduced when supporting large-scale applications in the public cloud.</span></span>

<span data-ttu-id="9bf0a-127">VDC 実装とは、クラウド内のアプリケーション ワークロードだけでなく、ネットワーク、セキュリティ、管理、インフラストラクチャ (DNS やディレクトリ サービスなど) でもあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-127">A VDC implementation does not just represent the application workloads in the cloud, but also the network, security, management, and infrastructure  (for example, DNS and Directory Services).</span></span> <span data-ttu-id="9bf0a-128">Azure に移行する企業のワークロードの増加に伴って、これらのワークロードが配置されるサポート インフラストラクチャおよびオブジェクトについて考えることが重要になります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-128">As more and more of an enterprise's workloads move to Azure, it's important they think about the supporting infrastructure and objects these workloads are placed in.</span></span> <span data-ttu-id="9bf0a-129">リソースの構成方法について慎重に考えることで、データ フロー、セキュリティ モデル、コンプライアンスに関する課題が異なり個別に管理する必要のある多数の "ワークロード アイランド" が増殖するのを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-129">Thinking carefully about how resources are structured can avoid the proliferation of hundreds of "workload islands" that must be managed separately with independent data flow, security models, and compliance challenges.</span></span>

<span data-ttu-id="9bf0a-130">VDC の概念は、共通のサポート機能とインフラストラクチャを備えた、独立していながら関連性のあるエンティティのコレクションを実装するための一連の推奨事項とベスト プラクティスで構成されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-130">The VDC concept is a set of recommendations and best practices for implementing a collection of separate but related entities with common supporting functions, features, and infrastructure.</span></span> <span data-ttu-id="9bf0a-131">ワークロードを VDC のレンズを通して見ることで、運用、管理、コンプライアンス監査が容易になるだけでなく、スケールの経済性およびコンポーネントとデータ フローの一元化によるセキュリティの最適化によってコスト削減を実現できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-131">By viewing your workloads through the lens of the VDC, you can realize reduced cost due to economies of scale, optimized security through component and data flow centralization, along with easier operations, management, and compliance audits.</span></span>

> [!NOTE]
> <span data-ttu-id="9bf0a-132">VDC は Azure の独立した製品では**なく**、厳しい要件を満たすためのさまざまな機能の組み合わせであることを理解しておくことが重要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-132">It's important to understand that the VDC is **NOT** a discrete Azure product, but the combination of various features and capabilities to meet your exact requirements.</span></span> <span data-ttu-id="9bf0a-133">VDC は、クラウドのリソースと能力を最大限にするための、ワークロードと Azure の使用方法についての考え方です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-133">The VDC is a way of thinking about your workloads and Azure usage to maximize your resources and abilities in the cloud.</span></span> <span data-ttu-id="9bf0a-134">これは企業の組織的な役割と責任範囲を考慮しながら Azure での IT サービスを構築するモジュール方式のアプローチです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-134">It's a modular approach to building up IT services in Azure while respecting the enterprise's organizational roles and responsibilities.</span></span>

<span data-ttu-id="9bf0a-135">VDC 実装は、企業が次のシナリオでワークロードとアプリケーションを Azure に移行する際に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-135">A VDC implementation can help enterprises get workloads and applications into Azure for the following scenarios:</span></span>

-   <span data-ttu-id="9bf0a-136">関連する複数のワークロードをホストする。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-136">Host multiple related workloads.</span></span>
-   <span data-ttu-id="9bf0a-137">オンプレミス環境から Azure にワークロードを移行する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-137">Migrate workloads from an on-premises environment to Azure.</span></span>
-   <span data-ttu-id="9bf0a-138">複数のワークロード間に、共有または一元化されたセキュリティとアクセスの要件を実装する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-138">Implement shared or centralized security and access requirements across workloads.</span></span>
-   <span data-ttu-id="9bf0a-139">大企業向けに Azure DevOps と一元化された IT を適切に組み合わせる。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-139">Mix Azure DevOps and centralized IT appropriately for a large enterprise.</span></span>

<span data-ttu-id="9bf0a-140">VDC の利点を実現する鍵となるのは、次のような Azure サービスの機能を組み合わせた集中型のハブとスポークのネットワーク トポロジです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-140">The key to unlock the advantages of VDC is a centralized hub and spoke network topology with a mix of Azure services and features:</span></span>

* <span data-ttu-id="9bf0a-141">[Azure Virtual Network][VNet]、</span><span class="sxs-lookup"><span data-stu-id="9bf0a-141">[Azure Virtual Network][VNet],</span></span>
* <span data-ttu-id="9bf0a-142">[ネットワーク セキュリティ グループ][NSG]、</span><span class="sxs-lookup"><span data-stu-id="9bf0a-142">[Network security groups][NSG],</span></span>
* <span data-ttu-id="9bf0a-143">[仮想ネットワーク ピアリング][VNetPeering]、</span><span class="sxs-lookup"><span data-stu-id="9bf0a-143">[Virtual network peering][VNetPeering],</span></span>
* <span data-ttu-id="9bf0a-144">[ユーザー定義ルート (UDR)][UDR]、および</span><span class="sxs-lookup"><span data-stu-id="9bf0a-144">[User-Defined Routes (UDR)][UDR], and</span></span>
* <span data-ttu-id="9bf0a-145">[ロールベースのアクセス制御 (RBAC)][RBAC] を使用した Azure ID と、必要に応じて [Azure Firewall][AzFW]、[Azure DNS][DNS]、[Azure Front Door][AFD]、および [Azure Virtual WAN][vWAN]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-145">Azure Identity with [Role-Based Access Control (RBAC)][RBAC] and optionally [Azure Firewall][AzFW], [Azure DNS][DNS], [Azure Front Door][AFD], and [Azure Virtual WAN][vWAN].</span></span>

## <a name="who-should-implement-a-virtual-datacenter"></a><span data-ttu-id="9bf0a-146">仮想データセンターを実装する必要があるお客様</span><span class="sxs-lookup"><span data-stu-id="9bf0a-146">Who should implement a Virtual datacenter?</span></span>

<span data-ttu-id="9bf0a-147">クラウドの採用を決定した Azure をご利用のお客様は、すべてのアプリケーションから共通して使用される一連のリソースの効率的な構成を活用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-147">Any Azure customer that has decided to adopt the cloud can benefit from the efficiency of configuring a set of resources for common use by all applications.</span></span> <span data-ttu-id="9bf0a-148">規模によっては、単一のアプリケーションであっても、VDC 実装の構築に使用されるパターンとコンポーネントを利用することでメリットが得られます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-148">Depending on the magnitude, even single applications can benefit from using the patterns and components used to build a VDC implementation.</span></span>

<span data-ttu-id="9bf0a-149">組織に一元化された IT、ネットワーク、セキュリティ、コンプライアンスのチーム/部門がある場合、VDC を実装することで、ポリシー ポイントの適用、職務の分離、基になる共通コンポーネントの統一性の確保を実現しながら、要件に適した最大限の自由と制御をアプリケーション チームに提供することができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-149">If your organization has a centralized IT, Network, Security, and/or Compliance team/department, implementing a VDC can help enforce policy points, segregation of duty, and ensure uniformity of the underlying common components while giving application teams as much freedom and control as is appropriate for your requirements.</span></span>

<span data-ttu-id="9bf0a-150">また、DevOps を検討している組織では、VDC の概念を利用して、Azure リソースの承認されたポケットを提供し、そのグループ (サブスクリプションまたは共通サブスクリプション内のリソース グループ) 内での完全な制御を確保することもできます。その一方で、ネットワークとセキュリティの境界は、ハブの VNet とリソース グループの一元的ポリシーによる定義に従って準拠を維持します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-150">Organizations that are looking to DevOps can also utilize the VDC concepts to provide authorized pockets of Azure resources and ensure they have total control within that group (either subscription or resource group in a common subscription), but the network and security boundaries stay compliant as defined by a centralized policy in a hub VNet and Resource Group.</span></span>

## <a name="considerations-for-implementing-a-virtual-datacenter"></a><span data-ttu-id="9bf0a-151">仮想データ センターの実装に関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="9bf0a-151">Considerations for Implementing a Virtual datacenter</span></span>

<span data-ttu-id="9bf0a-152">VDC 実装を設計するときは、考慮すべき非常に重要な問題がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-152">When designing a VDC implementation, there are several pivotal issues to consider:</span></span>

### <a name="identity-and-directory-service"></a><span data-ttu-id="9bf0a-153">ID とディレクトリ サービス</span><span class="sxs-lookup"><span data-stu-id="9bf0a-153">Identity and Directory Service</span></span>

<span data-ttu-id="9bf0a-154">ID とディレクトリ サービスは、オンプレミスとクラウドの両方のすべてのデータセンターの重要な側面です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-154">Identity and Directory services are a key aspect of all datacenters, both on-premises and in the cloud.</span></span> <span data-ttu-id="9bf0a-155">ID は、VDC 実装内のサービスへのアクセスと承認のすべての側面に関連しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-155">Identity is related to all aspects of access and authorization to services within a VDC implementation.</span></span> <span data-ttu-id="9bf0a-156">承認されたユーザーおよびプロセスのみが Azure アカウントとリソースにアクセスできるようにするため、Azure は複数の種類の資格情報を認証に使います。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-156">To help ensure that only authorized users and processes access your Azure Account and resources, Azure uses several types of credentials for authentication.</span></span> <span data-ttu-id="9bf0a-157">これには、パスワード (Azure アカウントへのアクセス)、暗号化キー、デジタル署名、および証明書が含まれます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-157">These include passwords (to access the Azure account), cryptographic keys, digital signatures, and certificates.</span></span> <span data-ttu-id="9bf0a-158">[Azure Multi-Factor Authentication (MFA)][MFA] は、Azure サービスへのアクセスに対する追加セキュリティ レイヤーです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-158">[Azure Multi-Factor Authentication (MFA)][MFA] is an additional layer of security for accessing Azure services.</span></span> <span data-ttu-id="9bf0a-159">Azure MFA は、電話、テキスト メッセージ、モバイル アプリ通知などの各種の簡単な確認オプションにより認証を強化し、顧客に最も合った方法を提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-159">Azure MFA provides strong authentication with a range of easy verification options — phone call, text message, or mobile app notification — and allow customers to choose the method they prefer.</span></span>

<span data-ttu-id="9bf0a-160">大規模な企業では、VDC 実装内または VDC 実装間での個々の ID とその認証、承認、ロール、権限の管理について説明する ID 管理プロセスを定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-160">Any large enterprise needs to define an identity management process that describes the management of individual identities, their authentication, authorization, roles, and privileges within or across their VDC implementation.</span></span> <span data-ttu-id="9bf0a-161">このプロセスの目的は、コスト、ダウンタイム、および手作業の反復を減らしながら、セキュリティと生産性を向上させることです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-161">The goals of this process should be to increase security and productivity while decreasing cost, downtime, and repetitive manual tasks.</span></span>

<span data-ttu-id="9bf0a-162">企業/組織ではさまざまな基幹業務 (LOB) に必要なサービスの組み合わせに対する要求が厳しい場合があり、従業員は異なるプロジェクトに異なるロールで関係することがよくあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-162">Enterprise/organizations can require a demanding mix of services for different Line-of-Businesses (LOBs), and employees often have different roles when involved with different projects.</span></span> <span data-ttu-id="9bf0a-163">VDC では、適切なガバナンスでシステムを実行するために、それぞれ特定のロール定義を使用するさまざまなチーム間の良好な協力が必要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-163">The VDC requires good cooperation between different teams, each with specific role definitions, to get systems running with good governance.</span></span> <span data-ttu-id="9bf0a-164">責任、アクセス、権限のマトリックスは複雑になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-164">The matrix of responsibilities, access, and rights can be complex.</span></span> <span data-ttu-id="9bf0a-165">VDC の ID 管理は、[*Azure Active Directory* (Azure AD)][AAD] とロールベースのアクセス制御 (RBAC) を使用して実装されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-165">Identity management in the VDC is implemented through [*Azure Active Directory* (Azure AD)][AAD] and Role-Based Access Control (RBAC).</span></span>

<span data-ttu-id="9bf0a-166">ディレクトリ サービスは、日常的な項目とネットワーク リソースを検索、管理、整理するための共有情報インフラストラクチャです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-166">A directory service is a shared information infrastructure that locates, manages, administers, and organizes everyday items and network resources.</span></span> <span data-ttu-id="9bf0a-167">これらのリソースには、ボリューム、フォルダー、ファイル、プリンター、ユーザー、グループ、デバイス、その他のオブジェクトが含まれます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-167">These resources can include volumes, folders, files, printers, users, groups, devices, and other objects.</span></span> <span data-ttu-id="9bf0a-168">ネットワーク上の各リソースは、ディレクトリ サーバーによってオブジェクトと見なされます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-168">Each resource on the network is considered an object by the directory server.</span></span> <span data-ttu-id="9bf0a-169">リソースに関する情報は、そのリソースまたはオブジェクトに関連付けられた属性のコレクションとして格納されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-169">Information about a resource is stored as a collection of attributes associated with that resource or object.</span></span>

<span data-ttu-id="9bf0a-170">すべての Microsoft オンライン ビジネス サービスは、サインインや他の ID のニーズに対応するために、Azure Active Directory (Azure AD) に依存しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-170">All Microsoft online business services rely on Azure Active Directory (Azure AD) for sign-in and other identity needs.</span></span> <span data-ttu-id="9bf0a-171">Azure Active Directory は、統合的で可用性の高い ID とアクセス管理のクラウド ソリューションであり、コアのディレクトリ サービス、高度な ID ガバナンス、およびアプリケーション アクセス管理を組み合わせたものです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-171">Azure Active Directory is a comprehensive, highly available identity and access management cloud solution that combines core directory services, advanced identity governance, and application access management.</span></span> <span data-ttu-id="9bf0a-172">Azure AD をオンプレミスの Active Directory と統合することで、クラウドベースのアプリケーションとローカルでホストされているオンプレミス アプリケーションのシングル サインオンを有効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-172">Azure AD can integrate with on-premises Active Directory to enable single sign-on for all cloud-based and locally hosted on-premises applications.</span></span> <span data-ttu-id="9bf0a-173">オンプレミスの Active Directory のユーザー属性は、Azure AD に自動的に同期できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-173">The user attributes of on-premises Active Directory can be automatically synchronized to Azure AD.</span></span>

<span data-ttu-id="9bf0a-174">1 人のグローバル管理者が、VDC 実装のすべてのアクセス許可を割り当てる必要があるわけではありません。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-174">A single global administrator is not required to assign all permissions in a VDC implementation.</span></span> <span data-ttu-id="9bf0a-175">代わりに、特定の各部門、ユーザーのグループ、またはディレクトリ サービス内のサービスが、VDC 実装内の各自のリソースを管理するために必要なアクセス許可を持つことができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-175">Instead, each specific department, group of users, or services in the Directory Service can have the permissions required to manage their own resources within a VDC implementation.</span></span> <span data-ttu-id="9bf0a-176">アクセス許可を構成するにはバランスが必要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-176">Structuring permissions requires balancing.</span></span> <span data-ttu-id="9bf0a-177">アクセス許可が多すぎるとパフォーマンス効率が妨げられ、アクセス許可が少なすぎたり緩すぎたりするとセキュリティ リスクが高まります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-177">Too many permissions can impede performance efficiency, and too few or loose permissions can increase security risks.</span></span> <span data-ttu-id="9bf0a-178">Azure のロールベースのアクセス制御 (RBAC) は、VDC 実装内のリソースに対してきめ細かいアクセス管理を実現することで、この問題への対処を支援します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-178">Azure Role-Based Access Control (RBAC) helps to address this problem, by offering fine-grained access management for resources in a VDC implementation.</span></span>

#### <a name="security-infrastructure"></a><span data-ttu-id="9bf0a-179">セキュリティ インフラストラクチャ</span><span class="sxs-lookup"><span data-stu-id="9bf0a-179">Security infrastructure</span></span>

<span data-ttu-id="9bf0a-180">セキュリティ インフラストラクチャとは、VDC 実装の特定の仮想ネットワーク セグメントにおけるトラフィックの分離を指します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-180">Security infrastructure refers to the segregation of traffic in a VDC implementation's specific virtual network segment.</span></span> <span data-ttu-id="9bf0a-181">このインフラストラクチャで、VDC 実装内のイングレスとエグレスを制御する方法を指定します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-181">This infrastructure specifies how ingress and egress is controlled in a VDC implementation.</span></span> <span data-ttu-id="9bf0a-182">Azure の基になっているマルチ テナント アーキテクチャは、Virtual Network (VNet) の分離、アクセス制御リスト (ACL)、ロード バランサー、IP フィルター、トラフィック フロー ポリシーを使って、デプロイ間の許可されていない非意図的なトラフィックを防止します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-182">Azure is based on a multi-tenant architecture that prevents unauthorized and unintentional traffic between deployments by using Virtual Network (VNet) isolation, access control lists (ACLs), load balancers, IP filters, and traffic flow policies.</span></span> <span data-ttu-id="9bf0a-183">ネットワーク アドレス変換 (NAT) は、内部ネットワーク トラフィックを外部トラフィックから分離します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-183">Network address translation (NAT) separates internal network traffic from external traffic.</span></span>

<span data-ttu-id="9bf0a-184">Azure ファブリックは、テナントのワークロードにインフラストラクチャ リソースを割り当て、仮想マシン (VM) との間の通信を管理します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-184">The Azure fabric allocates infrastructure resources to tenant workloads and manages communications to and from virtual machines (VMs).</span></span> <span data-ttu-id="9bf0a-185">Azure ハイパーバイザーは、VM 間のメモリおよびプロセスの分離を強制し、ネットワーク トラフィックをゲスト OS テナントに安全にルーティングします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-185">The Azure hypervisor enforces memory and process separation between VMs and securely routes network traffic to guest OS tenants.</span></span>

#### <a name="connectivity-to-the-cloud"></a><span data-ttu-id="9bf0a-186">クラウドへの接続</span><span class="sxs-lookup"><span data-stu-id="9bf0a-186">Connectivity to the cloud</span></span>

<span data-ttu-id="9bf0a-187">VDC 実装には、顧客、パートナー、社内ユーザーにサービスを提供するために、外部ネットワークとの接続が必要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-187">A VDC implementation requires connectivity to external networks to offer services to customers, partners and/or internal users.</span></span> <span data-ttu-id="9bf0a-188">この接続の必要性は、インターネットへの接続だけでなく、オンプレミスのネットワークとデータセンターへの接続も指します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-188">This need for connectivity refers not only to the Internet, but also to on-premises networks and datacenters.</span></span>

<span data-ttu-id="9bf0a-189">[Azure Firewall][AzFW] または他の種類のネットワーク仮想アプライアンス (NVA)、[ユーザー定義ルート][UDR]を使用したカスタム ルーティング ポリシー、[ネットワーク セキュリティ グループ][NSG]を使用したネットワーク フィルタリングを使って、パブリック インターネットと双方向にアクセスできるサービスを制御できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-189">Customers control which services have access to and are accessible from the public internet by using [Azure Firewall][AzFW] or other types of virtual network appliances (NVAs), custom routing policies by using [user-defined routes][UDR], and network filtering by using [network security groups][NSG].</span></span> <span data-ttu-id="9bf0a-190">インターネットに接続するすべてのリソースを、[Azure DDoS Protection Standard][DDOS] で保護することもお勧めします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-190">We recommend that all internet-facing resources also be protected by the [Azure DDoS Protection Standard][DDOS].</span></span>

<span data-ttu-id="9bf0a-191">企業によっては、VDC 実装をオンプレミスのデータセンターや他のリソースに接続する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-191">Enterprises may need to connect their VDC implementation to on-premises datacenters or other resources.</span></span> <span data-ttu-id="9bf0a-192">この Azure とオンプレミス ネットワーク間の接続は、効果的なアーキテクチャを設計するときに不可欠な要素となります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-192">This connectivity between Azure and on-premises networks is a crucial aspect when designing an effective architecture.</span></span> <span data-ttu-id="9bf0a-193">この相互接続を作成するには、インターネット経由とプライベート直接接続の 2 とおりの方法があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-193">Enterprises have two different ways to create this interconnection: transit over the Internet and/or by private direct connections.</span></span>

<span data-ttu-id="9bf0a-194">[**Azure のサイト間 VPN**][VPN] は、セキュリティで保護された暗号化接続 (IPsec/IKE トンネル) によって確立される、オンプレミスのネットワークと VDC 実装間のインターネットを介した相互接続サービスです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-194">An [**Azure Site-to-Site VPN**][VPN] is an interconnection service over the Internet between on-premises networks and a VDC implementation, established through secure encrypted connections (IPsec/IKE tunnels).</span></span> <span data-ttu-id="9bf0a-195">Azure のサイト間接続は、すべての接続がインターネット経由で接続するため、柔軟で、すばやく作成でき、追加調達の必要がありません。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-195">Azure Site-to-Site connection is flexible, quick to create, and does not require any further procurement, as all connections connect over the internet.</span></span>

<span data-ttu-id="9bf0a-196">多くの VPN 接続において、[**Azure Virtual WAN**][vWAN] は、Azure を介してブランチ間接続を最適化し、自動化するネットワーク サービスです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-196">For large numbers of VPN connections, [**Azure Virtual WAN**][vWAN] is a networking service that provides optimized and automated branch-to-branch connectivity through Azure.</span></span> <span data-ttu-id="9bf0a-197">Virtual WAN を使用すると、ブランチ デバイスを接続および構成して Azure と通信できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-197">Virtual WAN lets you connect and configure branch devices to communicate with Azure.</span></span> <span data-ttu-id="9bf0a-198">接続と構成は、手動で行うことも、Virtual WAN パートナーを通じて推奨プロバイダー デバイスを使用して行うこともできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-198">Connecting and configuring can be done either manually, or by using preferred provider devices through a Virtual WAN partner.</span></span> <span data-ttu-id="9bf0a-199">推奨プロバイダー デバイスを使用すると、使いやすさ、接続の簡素化、および構成管理を実現できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-199">Using preferred provider devices allows ease of use, simplification of connectivity, and configuration management.</span></span> <span data-ttu-id="9bf0a-200">Azure WAN の組み込みダッシュボードにはすぐに使用できるトラブルシューティング用分析情報が用意されているため、時間を節約でき、大規模なサイト間接続を簡単に表示することができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-200">The Azure WAN built-in dashboard provides instant troubleshooting insights that can help save you time, and gives you an easy way to view large-scale Site-to-Site connectivity.</span></span>

<span data-ttu-id="9bf0a-201">Azure の接続サービスである [**ExpressRoute**][ExR] を使用すると、VDC 実装とすべてのオンプレミス ネットワーク間のプライベート接続が可能になります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-201">[**ExpressRoute**][ExR] is an Azure connectivity service that enables private connections between a VDC implementation and any on-premises networks.</span></span> <span data-ttu-id="9bf0a-202">ExpressRoute 接続はパブリック インターネットを使わず、高いセキュリティ、信頼性、速度 (最大 10 Gbps)、および一貫した待機時間を提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-202">ExpressRoute connections do not go over the public Internet, and offer higher security, reliability, and higher speeds (up to 10 Gbps) along with consistent latency.</span></span> <span data-ttu-id="9bf0a-203">ExpressRoute のお客様はプライベート接続に関連付けられたコンプライアンス ルールの利点が得られるので、ExpressRoute は VDC 実装に適しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-203">ExpressRoute is useful for VDC implementations, as ExpressRoute customers can get the benefits of compliance rules associated with private connections.</span></span> <span data-ttu-id="9bf0a-204">より広い帯域幅が必要なお客様の場合、[ExpressRoute Direct][ExRD] を使用すると、100 Gbps で Microsoft ルーターに直接接続することができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-204">With [ExpressRoute Direct][ExRD], you can connect directly to Microsoft routers at 100 Gbps for customer with larger bandwidth needs.</span></span>

<span data-ttu-id="9bf0a-205">通常、ExpressRoute 接続のデプロイでは、ExpressRoute サービス プロバイダーと連携する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-205">Deploying ExpressRoute connections usually involves engaging with an ExpressRoute service provider.</span></span> <span data-ttu-id="9bf0a-206">短時間で使い始める必要がある顧客の場合は、通常、最初にサイト間 VPN を使って VDC 実装とオンプレミスのリソース間の接続を確立した後、サービス プロバイダーとの物理相互接続の完了時に ExpressRoute 接続に移行します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-206">For customers that need to start quickly, it is common to initially use Site-to-Site VPN to establish connectivity between a VDC implementation and on-premises resources, and then migrate to ExpressRoute connection when your physical interconnection with your service provider is complete.</span></span>

#### <a name="connectivity-within-the-cloud"></a><span data-ttu-id="9bf0a-207">*クラウド内の接続*</span><span class="sxs-lookup"><span data-stu-id="9bf0a-207">*Connectivity within the cloud*</span></span>

<span data-ttu-id="9bf0a-208">[VNet][VNet] と [VNet ピアリング][VNetPeering]は、VDC 実装内の基本的なネットワーク接続サービスです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-208">[VNets][VNet] and [VNet Peering][VNetPeering] are the basic networking connectivity services inside a VDC implementation.</span></span> <span data-ttu-id="9bf0a-209">VNet は VDC リソースの分離の自然な境界を保証し、VNet ピアリングは同じ Azure リージョン内またはリージョンをまたがる異なる VNet 間の相互通信を可能にします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-209">A VNet guarantees a natural boundary of isolation for VDC resources, and VNet peering allows intercommunication between different VNets within the same Azure region or even across regions.</span></span> <span data-ttu-id="9bf0a-210">VNet 内および VNet 間のトラフィック制御では、アクセス制御リスト ([ネットワーク セキュリティ グループ][NSG])、[ネットワーク仮想アプライアンス][NVA]、およびカスタム ルーティング テーブル ([UDR][UDR]) によって指定されたセキュリティ ルールのセットを一致させる必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-210">Traffic control inside a VNet and between VNets need to match a set of security rules specified through Access Control Lists ([Network Security Group][NSG]), [Network Virtual Appliances][NVA], and custom routing tables ([UDR][UDR]).</span></span>

## <a name="virtual-datacenter-overview"></a><span data-ttu-id="9bf0a-211">仮想データセンターの概要</span><span class="sxs-lookup"><span data-stu-id="9bf0a-211">Virtual datacenter overview</span></span>

### <a name="topology"></a><span data-ttu-id="9bf0a-212">トポロジ</span><span class="sxs-lookup"><span data-stu-id="9bf0a-212">Topology</span></span>

<span data-ttu-id="9bf0a-213">_ハブとスポーク_は、仮想データセンター実装のネットワーク トポロジを設計するためのモデルです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-213">_Hub and spoke_ is a model for designing the network topology for a virtual datacenter implementation.</span></span> 

<span data-ttu-id="9bf0a-214">[![1]][1]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-214">[![1]][1]</span></span>

<span data-ttu-id="9bf0a-215">ハブは、異なるゾーン (インターネット、オンプレミス、スポーク) 間のイングレスまたはエグレス トラフィックを制御および検査する中央ネットワーク ゾーンです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-215">A hub is the central network zone that controls and inspects ingress or egress traffic between different zones: internet, on-premises, and the spokes.</span></span> <span data-ttu-id="9bf0a-216">ハブとスポークのトポロジでは、IT 部門は一元化された場所でセキュリティ ポリシーを効率的に適用できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-216">The hub and spoke topology gives the IT department an effective way to enforce security policies in a central location.</span></span> <span data-ttu-id="9bf0a-217">また、構成の誤りや露出の可能性も低減されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-217">It also reduces the potential for misconfiguration and exposure.</span></span>

<span data-ttu-id="9bf0a-218">ハブには、スポークによって消費される共通のサービス コンポーネントが含まれます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-218">The hub contains the common service components consumed by the spokes.</span></span> <span data-ttu-id="9bf0a-219">共通の中央サービスの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-219">The following examples are common central services:</span></span>

-   <span data-ttu-id="9bf0a-220">信頼されていないネットワークからアクセスするサード パーティがスポーク内のワークロードにアクセスする前のユーザー認証に必要な Windows Active Directory インフラストラクチャ。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-220">The Windows Active Directory infrastructure, required for user authentication of third parties that access from untrusted networks before they get access to the workloads in the spoke.</span></span> <span data-ttu-id="9bf0a-221">これには、関連する Active Directory フェデレーション サービス (AD FS) が含まれます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-221">It includes the related Active Directory Federation Services (AD FS).</span></span>
-   <span data-ttu-id="9bf0a-222">オンプレミスおよびインターネット上のリソースにアクセスするための、スポーク内のワークロードの名前付けを解決する DNS サービス ([Azure DNS][DNS] が使用されていない場合)。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-222">A DNS service to resolve naming for the workload in the spokes, to access resources on-premises and on the internet if [Azure DNS][DNS] isn't used.</span></span>
-   <span data-ttu-id="9bf0a-223">ワークロードにシングル サインオンを実装するための公開キー基盤 (PKI)。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-223">A public key infrastructure (PKI), to implement single sign-on on workloads.</span></span>
-   <span data-ttu-id="9bf0a-224">スポーク ネットワーク ゾーンとインターネット間の TCP/UDP トラフィックのフロー制御。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-224">Flow control of TCP and UDP traffic between the spoke network zones and the internet.</span></span>
-   <span data-ttu-id="9bf0a-225">スポークとオンプレミス間のフロー制御。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-225">Flow control between the spokes and on-premises.</span></span>
-   <span data-ttu-id="9bf0a-226">(必要に応じて) スポーク間のフロー制御。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-226">If needed, flow control between one spoke and another.</span></span>

<span data-ttu-id="9bf0a-227">VDC では、複数のスポーク間で共有ハブ インフラストラクチャを使用することで、全体的なコストを削減します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-227">The VDC reduces overall cost by using the shared hub infrastructure between multiple spokes.</span></span>

<span data-ttu-id="9bf0a-228">各スポークのロールは、異なる種類のワークロードをホストできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-228">The role of each spoke can be to host different types of workloads.</span></span> <span data-ttu-id="9bf0a-229">スポークは、同じワークロードの反復可能なデプロイのためのモジュール方式のアプローチも提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-229">The spokes also provide a modular approach for repeatable deployments of the same workloads.</span></span> <span data-ttu-id="9bf0a-230">例として、開発とテスト、ユーザー受け入れテスト、運用前環境、運用環境があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-230">Examples are dev and test, user acceptance testing, preproduction, and production.</span></span> <span data-ttu-id="9bf0a-231">スポークでは、組織内のさまざまなグループを分離して有効にすることもできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-231">The spokes can also segregate and enable different groups within your organization.</span></span> <span data-ttu-id="9bf0a-232">例として Azure DevOps グループがあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-232">An example is Azure DevOps groups.</span></span> <span data-ttu-id="9bf0a-233">スポーク内には、基本的なワークロードや、階層間のトラフィック制御を伴う複雑な多層ワークロードをデプロイできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-233">Inside a spoke, it's possible to deploy a basic workload or complex multi-tier workloads with traffic control between the tiers.</span></span>

#### <a name="subscription-limits-and-multiple-hubs"></a><span data-ttu-id="9bf0a-234">サブスクリプションの制限と複数のハブ</span><span class="sxs-lookup"><span data-stu-id="9bf0a-234">Subscription limits and multiple hubs</span></span>

<span data-ttu-id="9bf0a-235">Azure では、種類に関係なくすべてのコンポーネントが、Azure サブスクリプションにデプロイされます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-235">In Azure, every component, whatever the type, is deployed in an Azure Subscription.</span></span> <span data-ttu-id="9bf0a-236">異なる Azure サブスクリプションに Azure コンポーネントを分離することで、差別化されたレベルのアクセスと承認の設定など、異なる LOB の要件を満たすことができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-236">The isolation of Azure components in different Azure subscriptions can satisfy the requirements of different LOBs, such as setting up differentiated levels of access and authorization.</span></span>

<span data-ttu-id="9bf0a-237">1 つの VDC 実装で多数のスポークにスケールアップできますが、他の IT システムと同様に、プラットフォームの制限があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-237">A single VDC implementation can scale up to large number of spokes, although, as with every IT system, there are platforms limits.</span></span> <span data-ttu-id="9bf0a-238">ハブのデプロイは特定の Azure サブスクリプションにバインドされ、サブスクリプションには制限事項と上限があります (たとえば、VNet ピアリングの最大数、詳しくは「[Azure サブスクリプションとサービスの制限、クォータ、制約][Limits]」を参照)。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-238">The hub deployment is bound to a specific Azure subscription, which has restrictions and limits (for example, a max number of VNet peerings - see [Azure subscription and service limits, quotas, and constraints][Limits] for details).</span></span> <span data-ttu-id="9bf0a-239">制限が問題になる可能性がある場合は、単一のハブとスポークからハブとスポークのクラスターにモデルを拡張することによって、アーキテクチャをさらに拡張できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-239">In cases where limits may be an issue, the architecture can scale up further by extending the model from a single hub-spokes to a cluster of hub and spokes.</span></span> <span data-ttu-id="9bf0a-240">1 つまたは複数の Azure リージョン内の複数のハブを、VNet ピアリング、ExpressRoute、Virtual WAN、サイト間 VPN を使って相互に接続できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-240">Multiple hubs in one or more Azure regions can be interconnected using VNet Peering, ExpressRoute, Virtual WAN, or site-to-site VPN.</span></span>

<span data-ttu-id="9bf0a-241">[![2]][2]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-241">[![2]][2]</span></span>

<span data-ttu-id="9bf0a-242">複数のハブを導入すると、システムのコストと管理作業が増加します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-242">The introduction of multiple hubs increases the cost and management effort of the system.</span></span> <span data-ttu-id="9bf0a-243">複数のハブの導入が妥当なのは、スケーラビリティ (システムの制限や冗長性など) とリージョン レプリケーション (エンドユーザーのパフォーマンスやディザスター リカバリーなど) が必要な場合だけです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-243">It would only be justified by scalability like system limits or redundancy and regional replication like end-user performance or disaster recovery.</span></span> <span data-ttu-id="9bf0a-244">複数のハブが必要なシナリオでは、運用を容易にするため、すべてのハブで同じサービスのセットを提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-244">In scenarios requiring multiple hubs, all the hubs should strive to offer the same set of services for operational ease.</span></span>

#### <a name="interconnection-between-spokes"></a><span data-ttu-id="9bf0a-245">スポーク間の相互接続</span><span class="sxs-lookup"><span data-stu-id="9bf0a-245">Interconnection between spokes</span></span>

<span data-ttu-id="9bf0a-246">1 つのスポーク内に、複雑な多階層のワークロードを実装することができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-246">Inside a single spoke, it is possible to implement complex multi-tiers workloads.</span></span> <span data-ttu-id="9bf0a-247">多階層の構成は、同じ VNet 内のサブネット (すべての階層に対して 1 つ) を使い、NSG を使ってフローをフィルター処理することによって、実装できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-247">Multi-tier configurations can be implemented using subnets (one for every tier) in the same VNet and filtering the flows using NSGs.</span></span>

<span data-ttu-id="9bf0a-248">アーキテクトは、複数の仮想ネットワークに多層ワークロードをデプロイできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-248">An architect might want to deploy a multi-tier workload across multiple virtual networks.</span></span> <span data-ttu-id="9bf0a-249">仮想ネットワーク ピアリングにより、スポークは同じハブまたは異なるハブの他のスポークに接続できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-249">With virtual network peering, spokes can connect to other spokes in the same hub or different hubs.</span></span> <span data-ttu-id="9bf0a-250">このシナリオの一般的な例は、アプリケーション処理サーバーが 1 つのスポーク (仮想ネットワーク) にあるケースです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-250">A typical example of this scenario is the case where application processing servers are in one spoke, or virtual network.</span></span> <span data-ttu-id="9bf0a-251">データベースは別のスポーク (仮想ネットワーク) にデプロイされています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-251">The database deploys in a different spoke, or virtual network.</span></span> <span data-ttu-id="9bf0a-252">この場合、仮想ネットワーク ピアリングでスポークを相互接続することによって、ハブの通過を簡単に回避できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-252">In this case, it's easy to interconnect the spokes with virtual network peering and thereby avoid transiting through the hub.</span></span> <span data-ttu-id="9bf0a-253">ハブをバイパスすることで、ハブにしか存在しない重要なセキュリティ ポイントや監査ポイントがバイパスされることがないように、アーキテクチャとセキュリティを慎重に見直す必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-253">A careful architecture and security review should be performed to ensure that bypassing the hub doesn’t bypass important security or auditing points that might exist only in the hub.</span></span>

<span data-ttu-id="9bf0a-254">[![3]][3]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-254">[![3]][3]</span></span>

<span data-ttu-id="9bf0a-255">スポークは、ハブとして機能するスポークに相互接続することもできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-255">Spokes can also be interconnected to a spoke that acts as a hub.</span></span> <span data-ttu-id="9bf0a-256">この方法では 2 レベルの階層が作成され、上位レベル (レベル 0) のスポークが、階層の下位レベル (レベル 1) のスポークのハブになります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-256">This approach creates a two-level hierarchy: the spoke in the higher level (level 0) become the hub of lower spokes (level 1) of the hierarchy.</span></span> <span data-ttu-id="9bf0a-257">VDC 実装のスポークは、トラフィックがオンプレミス ネットワークまたはパブリック インターネットのいずれかで送信先に到達できるように、中央のハブにトラフィックを転送する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-257">The spokes of a VDC implementation are required to forward the traffic to the central hub so that the traffic can transit to its destination in either the on-premises network or public internet.</span></span> <span data-ttu-id="9bf0a-258">2 レベルのハブのアーキテクチャでは複雑なルーティングが導入され、単純なハブ スポーク関係のメリットが失われます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-258">An architecture with two levels of hub introduces complex routing that removes the benefits of a simple hub-spoke relationship.</span></span>

<span data-ttu-id="9bf0a-259">Azure では複雑なトポロジを構成できますが、VDC の概念の中核となる原則の 1 つは再現性と単純さです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-259">Although Azure allows complex topologies, one of the core principles of the VDC concept is repeatability and simplicity.</span></span> <span data-ttu-id="9bf0a-260">管理作業を最小限に抑えるために、単純なハブ スポーク設計が、推奨される VDC 参照アーキテクチャです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-260">To minimize management effort, the simple hub-spoke design is the VDC reference architecture that we recommend.</span></span>

### <a name="components"></a><span data-ttu-id="9bf0a-261">コンポーネント</span><span class="sxs-lookup"><span data-stu-id="9bf0a-261">Components</span></span>

<span data-ttu-id="9bf0a-262">仮想データセンターは、4 種類の基本的なコンポーネントで構成されています。**インフラストラクチャ**、**境界ネットワーク**、**ワークロード**、および**監視**です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-262">The virtual datacenter is made up of four basic component types: **Infrastructure**, **Perimeter Networks**, **Workloads**, and **Monitoring**.</span></span>

<span data-ttu-id="9bf0a-263">各コンポーネントの種類は、さまざまな Azure の機能とリソースで構成されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-263">Each component type consists of various Azure features and resources.</span></span> <span data-ttu-id="9bf0a-264">VDC 実装は、複数のコンポーネントの種類のインスタンスと、同じコンポーネントの種類の複数のバリエーションで構成されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-264">Your VDC implementation is made up of instances of multiple components types and multiple variations of the same component type.</span></span> <span data-ttu-id="9bf0a-265">たとえば、異なるアプリケーションを表す多数の異なる論理的に分離されたワークロード インスタンスを使うことができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-265">For instance, you may have many different, logically separated, workload instances that represent different applications.</span></span> <span data-ttu-id="9bf0a-266">これらのさまざまなコンポーネントの種類とインスタンスを使って、最終的に VDC を構築します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-266">You use these different component types and instances to ultimately build the VDC.</span></span>

<span data-ttu-id="9bf0a-267">[![4]][4]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-267">[![4]][4]</span></span>

<span data-ttu-id="9bf0a-268">VDC の上記のおおまかな概念アーキテクチャでは、ハブ スポーク トポロジのさまざまなゾーンで使用されるさまざまなコンポーネントの種類が示されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-268">The preceding high-level conceptual architecture of the VDC shows different component types used in different zones of the hub-spokes topology.</span></span> <span data-ttu-id="9bf0a-269">図では、アーキテクチャのさまざまな部分にインフラストラクチャ コンポーネントが示されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-269">The diagram shows infrastructure components in various parts of the architecture.</span></span>

<span data-ttu-id="9bf0a-270">一般的には、アクセス権と特権をグループ ベースにすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-270">As good practice in general, access rights and privileges should be group-based.</span></span> <span data-ttu-id="9bf0a-271">個々のユーザーではなくグループを扱い、チーム間に一貫した管理方法を用意することで、アクセス ポリシーの保守が容易になります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-271">Dealing with groups rather than individual users eases maintenance of access policies by providing a consistent way to manage it across teams.</span></span>  <span data-ttu-id="9bf0a-272">また、構成エラーを最小限に抑えるために役立ちます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-272">and aids in minimizing configuration errors.</span></span> <span data-ttu-id="9bf0a-273">適切なグループにユーザーを割り当てたり、グループからユーザーを削除することで、特定のユーザーの権限を最新に保つことができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-273">Assigning and removing users to and from appropriate groups helps keeping the privileges of a specific user up-to-date.</span></span>

<span data-ttu-id="9bf0a-274">各ロール グループの名前には、一意のプレフィックスが必要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-274">Each role group should have a unique prefix on their names.</span></span> <span data-ttu-id="9bf0a-275">このプレフィックスにより、グループとワークロードの関連付けを識別しやすくなります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-275">This prefix makes it easy to identify which group is associated with which workload.</span></span> <span data-ttu-id="9bf0a-276">たとえば、認証サービスをホストしているワークロードでは、グループに **AuthServiceNetOps**、**AuthServiceSecOps**、**AuthServiceDevOps**、**AuthServiceInfraOps** という名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-276">For example, a workload hosting an authentication service might have groups named **AuthServiceNetOps**, **AuthServiceSecOps**, **AuthServiceDevOps**, and **AuthServiceInfraOps**.</span></span> <span data-ttu-id="9bf0a-277">一元化されたロール (特定のサービスに関係しないロール) には、**Corp** というプレフィックスを付けます (例: **CorpNetOps**)。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-277">Centralized roles, or roles not related to a specific service, might be prefaced with **Corp**. An example is **CorpNetOps**.</span></span>

<span data-ttu-id="9bf0a-278">多くの組織では、次のグループのバリエーションを使って、ロールが大きく分類されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-278">Many organizations use a variation of the following groups to provide a major breakdown of roles:</span></span>

-   <span data-ttu-id="9bf0a-279">中央 IT グループ (**Corp**) は、インフラストラクチャ コンポーネントを制御するための所有者権限を持ちます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-279">The central IT group, **Corp,** has the ownership rights to control infrastructure components.</span></span> <span data-ttu-id="9bf0a-280">コンポーネントの例として、ネットワークとセキュリティがあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-280">Examples are networking and security.</span></span> <span data-ttu-id="9bf0a-281">このグループには、サブスクリプションの共同作業者のロールとスポークのネットワーク共同作成者権限が必要であり、ハブを制御できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-281">The group needs to have the role of contributor on the subscription, control of the hub, and network contributor rights in the spokes.</span></span> <span data-ttu-id="9bf0a-282">多くの場合、大規模な組織では、これらの管理責任を複数のチームが分担します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-282">Large organizations frequently split up these management responsibilities between multiple teams.</span></span> <span data-ttu-id="9bf0a-283">たとえば、ネットワーク運用 (**CorpNetOps**) グループはネットワークだけを担当し、セキュリティ運用 (**CorpSecOps**) グループはファイアウォールとセキュリティ ポリシーを担当します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-283">Examples are a network operations **CorpNetOps** group with exclusive focus on networking and a security operations **CorpSecOps** group responsible for the firewall and security policy.</span></span> <span data-ttu-id="9bf0a-284">この場合、カスタム ロールの割り当て用に 2 つの異なるグループを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-284">In this specific case, two different groups need to be created for assignment of these custom roles.</span></span>
-   <span data-ttu-id="9bf0a-285">開発とテスト (**AppDevOps**) グループは、アプリまたはサービス ワークロードをデプロイする役割を担います。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-285">The dev-test group, **AppDevOps,** has the responsibility to deploy app or service workloads.</span></span> <span data-ttu-id="9bf0a-286">このグループには、IaaS デプロイの仮想マシン共同作成者のロール、または 1 つ以上の PaaS 共同作成者のロールが割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-286">This group takes the role of virtual machine contributor for IaaS deployments or one or more PaaS contributor’s roles.</span></span> <span data-ttu-id="9bf0a-287">「[Azure リソースの組み込みロール][Roles]」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-287">See [Built-in roles for Azure resources][Roles].</span></span> <span data-ttu-id="9bf0a-288">場合によっては、開発とテスト チームは、ハブまたは特定のスポーク内のセキュリティ ポリシー、NSG、ルーティング ポリシー、UDR を表示できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-288">Optionally, the dev-test team might need visibility on security policies, NSGs, and routing policies, UDRs, inside the hub or a specific spoke.</span></span> <span data-ttu-id="9bf0a-289">その場合、このグループには、ワークロードの共同作成者のロールに加え、ネットワーク閲覧者のロールも必要になります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-289">In addition to the role of contributor for workloads, this group would also need the role of network reader.</span></span>
-   <span data-ttu-id="9bf0a-290">運用とメンテナンス グループ (**CorpInfraOps** または **AppInfraOps**) は、運用環境のワークロードを管理する役割を担います。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-290">The operation and maintenance group, **CorpInfraOps** or **AppInfraOps,** has the responsibility of managing workloads in production.</span></span> <span data-ttu-id="9bf0a-291">このグループは、運用サブスクリプションのワークロードのサブスクリプション共同作成者である必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-291">This group needs to be a subscription contributor on workloads in any production subscriptions.</span></span> <span data-ttu-id="9bf0a-292">一部の組織では、運用環境のサブスクリプション共同作成者のロールと中央ハブ サブスクリプションを持つ、追加のエスカレーション サポート チーム グループが必要かどうかを評価することもあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-292">Some organizations might also evaluate if they need an additional escalation support team group with the role of subscription contributor in production and the central hub subscription.</span></span> <span data-ttu-id="9bf0a-293">この追加のグループは、運用環境における潜在的な構成の問題を修正します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-293">The additional group fixes potential configuration issues in the production environment.</span></span>

<span data-ttu-id="9bf0a-294">VDC は、ハブを管理する中央の IT グループ用に作成されたグループがワークロード レベルで対応するグループを持つように設計されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-294">The VDC is designed so groups created for the central IT groups managing the hub have corresponding groups at the workload level.</span></span> <span data-ttu-id="9bf0a-295">ハブ リソースを管理するだけでなくは、中央 IT グループのみが、サブスクリプションでの外部アクセスと最上位レベルのアクセス許可を制御することができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-295">In addition to managing hub resources only, the central IT group is able to control external access and top-level permissions on the subscription.</span></span> <span data-ttu-id="9bf0a-296">また、ワークロード グループは、中央 IT でそれぞれの VNet のリソースとアクセス許可を独立して制御することもできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-296">Workload groups are also able to control resources and permissions of their VNet independently on Central IT.</span></span>

<span data-ttu-id="9bf0a-297">VDC は、さまざまな基幹業務 (LOB) の複数のプロジェクトを安全にホストできるようにパーティション分割されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-297">The VDC is partitioned to securely host multiple projects across different Lines-of-Business (LOBs).</span></span> <span data-ttu-id="9bf0a-298">すべてのプロジェクトには、異なる分離環境 (開発、UAT、運用) が必要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-298">All projects require different isolated environments (Dev, UAT, production).</span></span> <span data-ttu-id="9bf0a-299">これらの環境ごとに Azure サブスクリプションを分けると、自然な分離が提供されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-299">Separate Azure subscriptions for each of these environments provide natural isolation.</span></span>

<span data-ttu-id="9bf0a-300">[![5]][5]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-300">[![5]][5]</span></span>

<span data-ttu-id="9bf0a-301">上記の図は、組織のプロジェクト、ユーザー、グループ間の関係と、Azure のコンポーネントがデプロイされている環境を示しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-301">The preceding diagram shows the relationship between an organization's projects, users, and groups and the environments where the Azure components are deployed.</span></span>

<span data-ttu-id="9bf0a-302">通常、IT の環境 (または階層) は、複数のアプリケーションがデプロイされて実行されるシステムです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-302">Typically in IT, an environment (or tier) is a system in which multiple applications are deployed and executed.</span></span> <span data-ttu-id="9bf0a-303">大規模な企業では、開発環境 (変更が行われてテストされる場所) と運用環境 (エンドユーザーが使うもの) が使われます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-303">Large enterprises use a development environment (where changes originally made and tested) and a production environment (what end-users use).</span></span> <span data-ttu-id="9bf0a-304">これらの環境は分離され、多くの場合、その間に複数のステージング環境があり、段階的にデプロイ (ロールアウト)、テスト、および問題が発生した場合のロールバックを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-304">Those environments are separated, often with several staging environments in between them to allow phased deployment (rollout), testing, and rollback if problems arise.</span></span> <span data-ttu-id="9bf0a-305">デプロイ アーキテクチャは大きく異なりますが、通常、開発 (DEV) で始まって運用 (PROD) で終わる基本的なプロセスは同じです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-305">Deployment architectures vary significantly, but usually the basic process of starting at development (DEV) and ending at production (PROD) is still followed.</span></span>

<span data-ttu-id="9bf0a-306">この種の多層環境の一般的なアーキテクチャは、開発およびテスト用の Azure DevOps、ステージング用の UAT、運用環境で構成されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-306">A common architecture for these types of multi-tier environments consists of Azure DevOps for development and testing, UAT for staging, and production environments.</span></span> <span data-ttu-id="9bf0a-307">組織では、1 つまたは複数の Azure AD テナントを利用して、これらの環境に対するアクセスと権限を定義できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-307">Organizations can leverage single or multiple Azure AD tenants to define access and rights to these environments.</span></span> <span data-ttu-id="9bf0a-308">前の図は、Azure DevOps および UAT 用と運用専用の 2 つの異なる Azure AD テナントが使用されているケースを示しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-308">The previous diagram shows a case where two different Azure AD tenants are used: one for Azure DevOps and UAT, and the other exclusively for production.</span></span>

<span data-ttu-id="9bf0a-309">異なる Azure AD テナントが存在すると、必然的に環境間が分離されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-309">The presence of different Azure AD tenants enforces the separation between environments.</span></span> <span data-ttu-id="9bf0a-310">同じユーザー グループ (中央 IT など) が、プロジェクトの Azure DevOps または運用環境のロールやアクセス許可を変更するために Azure AD テナントにアクセスするときは、テナントごとに異なる URI を使用して認証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-310">The same group of users, such as the central IT, needs to authenticate by using a different URI to access a different Azure AD tenant to modify the roles or permissions of either the Azure DevOps or production environments of a project.</span></span> <span data-ttu-id="9bf0a-311">環境にアクセスするときに、環境ごとに異なるユーザー認証が存在すると、人的エラーが原因で発生する可能性のある停止や他の問題が減少します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-311">The presence of different user authentications to access different environments reduces possible outages and other issues caused by human errors.</span></span>

#### <a name="component-type-infrastructure"></a><span data-ttu-id="9bf0a-312">コンポーネントの種類:インフラストラクチャ</span><span class="sxs-lookup"><span data-stu-id="9bf0a-312">Component type: Infrastructure</span></span>

<span data-ttu-id="9bf0a-313">このコンポーネントの種類には、ほとんどのサポート インフラストラクチャが存在します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-313">This component type is where most of the supporting infrastructure resides.</span></span> <span data-ttu-id="9bf0a-314">また、中央 IT、セキュリティ、コンプライアンスのチームが最も多くの時間を費やす場所でもあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-314">It's also where your centralized IT, Security, and/or Compliance teams spend most of their time.</span></span>

<span data-ttu-id="9bf0a-315">[![6]][6]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-315">[![6]][6]</span></span>

<span data-ttu-id="9bf0a-316">インフラストラクチャ コンポーネントは、VDC 実装のさまざまなコンポーネントに相互接続を提供し、ハブとスポークの両方に存在します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-316">Infrastructure components provide an interconnection for the different components of a VDC implementation, and are present in both the hub and the spokes.</span></span> <span data-ttu-id="9bf0a-317">インフラストラクチャ コンポーネントを管理および保守する責任は、通常、中央 IT およびセキュリティ チームに割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-317">The responsibility for managing and maintaining the infrastructure components is typically assigned to the central IT and/or security team.</span></span>

<span data-ttu-id="9bf0a-318">IT インフラストラクチャ チームの主要なタスクの 1 つは、企業全体にわたって一貫した IP アドレス スキーマを保証することです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-318">One of the primary tasks of the IT infrastructure team is to guarantee the consistency of IP address schemas across the enterprise.</span></span> <span data-ttu-id="9bf0a-319">VDC 実装に割り当てられたプライベート IP アドレス空間は、一貫性があり、オンプレミスのネットワークで割り当てられたプライベート IP アドレスと重複していない必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-319">The private IP address space assigned to a VDC implementation must be consistent and NOT overlapping with private IP addresses assigned on your on-premises networks.</span></span>

<span data-ttu-id="9bf0a-320">オンプレミスのエッジ ルーター上または Azure 環境内の NAT は、IP アドレスの競合を回避できますが、インフラストラクチャ コンポーネントが複雑になります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-320">While NAT on the on-premises edge routers or in Azure environments can avoid IP address conflicts, it adds complications to your infrastructure components.</span></span> <span data-ttu-id="9bf0a-321">管理の簡単さが VDC の主な目標の 1 つなので、NAT を使って IP の問題を処理することは推奨されるソリューションではありません。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-321">Simplicity of management is one of the key goals of the VDC, so using NAT to handle IP concerns is not a recommended solution.</span></span>

<span data-ttu-id="9bf0a-322">インフラストラクチャ コンポーネントは次の機能を備えています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-322">Infrastructure components have the following functionality:</span></span>

-   <span data-ttu-id="9bf0a-323">[**ID とディレクトリ サービス**][AAD]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-323">[**Identity and directory services**][AAD].</span></span> <span data-ttu-id="9bf0a-324">Azure のすべてのリソース種類へのアクセスは、ディレクトリ サービスに格納された ID によって制御されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-324">Access to every resource type in Azure is controlled by an identity stored in a directory service.</span></span> <span data-ttu-id="9bf0a-325">ディレクトリ サービスは、ユーザーのリストだけでなく、特定の Azure サブスクリプション内のリソースへのアクセス権も格納しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-325">The directory service stores not only the list of users, but also the access rights to resources in a specific Azure subscription.</span></span> <span data-ttu-id="9bf0a-326">これらのサービスは、クラウドのみに存在することも、Active Directory に格納されたオンプレミスの ID と同期することもできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-326">These services can exist cloud-only, or they can be synchronized with on-premises identity stored in Active Directory.</span></span>
-   <span data-ttu-id="9bf0a-327">[**Virtual Network**][VPN]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-327">[**Virtual Network**][VPN].</span></span> <span data-ttu-id="9bf0a-328">Virtual Network は、VDC の主要コンポーネントの 1 つであり、Azure プラットフォーム上にトラフィックの分離境界を作成できるようにします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-328">Virtual Networks are one of main components of the VDC, and enable you to create a traffic isolation boundary on the Azure platform.</span></span> <span data-ttu-id="9bf0a-329">Virtual Network は、1 つまたは複数の仮想ネットワーク セグメントで構成され、それぞれが特定の IP ネットワーク プレフィックス (サブネット) を持ちます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-329">A Virtual Network is composed of a single or multiple virtual network segments, each with a specific IP network prefix (a subnet).</span></span> <span data-ttu-id="9bf0a-330">Virtual Network では、IaaS 仮想マシンと PaaS サービスがプライベート通信を確立できる、内部の境界領域が定義されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-330">The Virtual Network defines an internal perimeter area where IaaS virtual machines and PaaS services can establish private communications.</span></span> <span data-ttu-id="9bf0a-331">ある仮想ネットワーク内のVM (および PaaS サービス) と異なる仮想ネットワーク内の VM (および PaaS サービス) は、両方の仮想ネットワークが同じ顧客によって同じサブスクリプション下で作成された場合でも、直接通信することはできません。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-331">VMs (and PaaS services) in one virtual network cannot communicate directly to VMs (and PaaS services) in a different virtual network, even if both virtual networks are created by the same customer, under the same subscription.</span></span> <span data-ttu-id="9bf0a-332">分離は、顧客の VM と通信が仮想ネットワーク内でプライベートであることを保証する重要な特性です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-332">Isolation is a critical property that ensures customer VMs and communication remains private within a virtual network.</span></span>
-   <span data-ttu-id="9bf0a-333">[**UDR**][UDR]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-333">[**UDR**][UDR].</span></span> <span data-ttu-id="9bf0a-334">Virtual Network 内のトラフィックは、システム ルーティング テーブルに基づいて既定でルーティングされます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-334">Traffic in a Virtual Network is routed by default based on the system routing table.</span></span> <span data-ttu-id="9bf0a-335">ユーザー定義ルートはカスタム ルーティング テーブルであり、ネットワーク管理者はそれを 1 つまたは複数のサブネットに関連付けることで、システム ルーティング テーブルの動作を上書きし、仮想ネットワーク内の通信パスを定義することができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-335">A User Defined Route is a custom routing table that network administrators can associate to one or more subnets to overwrite the behavior of the system routing table and define a communication path within a virtual network.</span></span> <span data-ttu-id="9bf0a-336">UDR が存在すると、スポークからのエグレス トラフィックが特定のカスタム VM を通過し、ネットワーク仮想アプライアンスとロード バランサーがハブとスポークに存在することが保証されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-336">The presence of UDRs guarantees that egress traffic from the spoke transit through specific custom VMs and/or Network Virtual Appliances and load balancers present in the hub and in the spokes.</span></span>
-   <span data-ttu-id="9bf0a-337">[**NSG**][NSG]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-337">[**NSG**][NSG].</span></span> <span data-ttu-id="9bf0a-338">ネットワーク セキュリティ グループは、IP 送信元、IP 送信先、プロトコル、IP 送信元ポート、および IP 送信先ポートのフィルタリングとして動作するセキュリティ規則のリストです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-338">A Network Security Group is a list of security rules that act as traffic filtering on IP Sources, IP Destination, Protocols, IP Source Ports, and IP Destination ports.</span></span> <span data-ttu-id="9bf0a-339">NSG は、サブネットと、Azure VM に関連付けられた仮想 NIC カードの、どちらか一方または両方に適用できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-339">The NSG can be applied to a subnet, a Virtual NIC card associated with an Azure VM, or both.</span></span> <span data-ttu-id="9bf0a-340">NSG は、ハブとスポークに正しいフロー制御を実装するうえで不可欠です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-340">The NSGs are essential to implement a correct flow control in the hub and in the spokes.</span></span> <span data-ttu-id="9bf0a-341">NSG によって提供されるセキュリティのレベルは、どのポートをどのような目的で開くかによって決まります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-341">The level of security afforded by the NSG is a function of which ports you open, and for what purpose.</span></span> <span data-ttu-id="9bf0a-342">お客様は、IPtables や Windows ファイアウォールなどのホストベースのファイアウォールで、VM ごとの追加フィルターを適用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-342">Customers should apply additional per-VM filters with host-based firewalls such as IPtables or the Windows Firewall.</span></span>
-   <span data-ttu-id="9bf0a-343">[**DNS**][DNS]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-343">[**DNS**][DNS].</span></span> <span data-ttu-id="9bf0a-344">VDC 実装の VNet 内のリソースの名前解決は、DNS によって提供されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-344">The name resolution of resources in the VNets of a VDC implementation is provided through DNS.</span></span> <span data-ttu-id="9bf0a-345">Azure は、[パブリック][DNS]と[プライベート][PrivateDNS]の両方の名前解決に DNS サービスを提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-345">Azure provides DNS services for both [Public][DNS] and [Private][PrivateDNS] name resolution.</span></span> <span data-ttu-id="9bf0a-346">プライベート ゾーンは、仮想ネットワーク内での名前解決と仮想ネットワーク間での名前解決を両方提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-346">Private zones provide name resolution both within a virtual network and across virtual networks.</span></span> <span data-ttu-id="9bf0a-347">プライベート ゾーンは、同じリージョンの複数の仮想ネットワークをまたぐだけでなく、複数のリージョンおよびサブスクリプションをまたぐことができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-347">You can have private zones not only span across virtual networks in the same region, but also across regions and subscriptions.</span></span> <span data-ttu-id="9bf0a-348">パブリック解決の場合、Azure DNS は、DNS ドメインのホスティング サービスであり、Microsoft Azure インフラストラクチャを使用した名前解決を提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-348">For public resolution, Azure DNS provides a hosting service for DNS domains, providing name resolution using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="9bf0a-349">Azure でドメインをホストすることで、その他の Azure サービスと同じ資格情報、API、ツール、課金情報を使用して DNS レコードを管理できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-349">By hosting your domains in Azure, you can manage your DNS records using the same credentials, APIs, tools, and billing as your other Azure services.</span></span>
-   <span data-ttu-id="9bf0a-350">[**サブスクリプション**][SubMgmt]と[**リソース グループ管理**][RGMgmt]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-350">[**Subscription**][SubMgmt] and [**Resource Group Management**][RGMgmt].</span></span> <span data-ttu-id="9bf0a-351">サブスクリプションでは、Azure にリソースの複数のグループを作成する自然な境界が定義されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-351">A subscription defines a natural boundary to create multiple groups of resources in Azure.</span></span> <span data-ttu-id="9bf0a-352">サブスクリプション内のリソースは、リソース グループと呼ばれる論理コンテナーにまとめられています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-352">Resources in a subscription are assembled together in logical containers named Resource Groups.</span></span> <span data-ttu-id="9bf0a-353">リソース グループは、VDC 実装のリソースを整理するための論理グループを表します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-353">The Resource Group represents a logical group to organize the resources of a VDC implementation.</span></span>
-   <span data-ttu-id="9bf0a-354">[**RBAC**][RBAC]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-354">[**RBAC**][RBAC].</span></span> <span data-ttu-id="9bf0a-355">RBAC を使うと、組織のロールと特定の Azure リソースにアクセスするための権限をマップすることができ、ユーザーをアクションの特定のサブセットのみに制限することができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-355">Through RBAC, it is possible to map organizational role along with rights to access specific Azure resources, allowing you to restrict users to only a certain subset of actions.</span></span> <span data-ttu-id="9bf0a-356">RBAC では、関連するスコープ内のユーザー、グループ、アプリケーションに適切なロールを割り当てることで、アクセス権を付与できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-356">With RBAC, you can grant access by assigning the appropriate role to users, groups, and applications within the relevant scope.</span></span> <span data-ttu-id="9bf0a-357">ロール割り当てのスコープには、Azure サブスクリプション、リソース グループ、または単独のリソースを指定できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-357">The scope of a role assignment can be an Azure subscription, a resource group, or a single resource.</span></span> <span data-ttu-id="9bf0a-358">RBAC では、アクセス許可を継承できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-358">RBAC allows inheritance of permissions.</span></span> <span data-ttu-id="9bf0a-359">親スコープでロールが割り当てられると、その親に含まれる子へのアクセス権も付与されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-359">A role assigned at a parent scope also grants access to the children contained within it.</span></span> <span data-ttu-id="9bf0a-360">RBAC を使って、職務を分離し、職務に必要なアクセス許可のみをユーザーに付与することができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-360">Using RBAC, you can segregate duties and grant only the amount of access to users that they need to perform their jobs.</span></span> <span data-ttu-id="9bf0a-361">たとえば、RBAC を使って、ある従業員にはサブスクリプションで仮想マシンを管理できるようにし、他の従業員にも同じサブスクリプション内で SQL DB を管理できるようにします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-361">For example, use RBAC to let one employee manage virtual machines in a subscription, while another can manage SQL DBs within the same subscription.</span></span>
-   <span data-ttu-id="9bf0a-362">[**VNet ピアリング**][VNetPeering]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-362">[**VNet Peering**][VNetPeering].</span></span> <span data-ttu-id="9bf0a-363">VDC のインフラストラクチャの作成に使用される基本的な機能は、VNet ピアリングです。これは、Azure データ センターのネットワークを介して、あるいはリージョンをまたがる Azure の世界規模のバックボーンを使用して、同じリージョンの 2 つの仮想ネットワーク (VNet) を接続するメカニズムです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-363">The fundamental feature used to create the infrastructure of the VDC is VNet Peering, a mechanism that connects two virtual networks (VNets) in the same region through the Azure datacenter network, or using the Azure world-wide backbone across regions.</span></span>

#### <a name="component-type-perimeter-networks"></a><span data-ttu-id="9bf0a-364">コンポーネントの種類:境界ネットワーク</span><span class="sxs-lookup"><span data-stu-id="9bf0a-364">Component Type: Perimeter Networks</span></span>

<span data-ttu-id="9bf0a-365">[境界ネットワーク][DMZ] コンポーネントを使用すると、オンプレミス ネットワークまたは物理データセンター ネットワーク間のネットワーク接続だけでなく、インターネットとの間の双方向の接続も提供できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-365">[Perimeter network][DMZ] components enable network connectivity between your on-premises or physical datacenter networks, along with any connectivity to and from the Internet.</span></span> <span data-ttu-id="9bf0a-366">このコンポーネントは、ネットワークおよびセキュリティ チームが最も多くの時間を費やす場所でもあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-366">It's also where your network and security teams likely spend most of their time.</span></span>

<span data-ttu-id="9bf0a-367">受信パケットは、スポーク内のバックエンド サーバーに到達する前に、ハブのセキュリティ アプライアンスを通過する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-367">Incoming packets should flow through the security appliances in the hub before reaching the back-end servers in the spokes.</span></span> <span data-ttu-id="9bf0a-368">セキュリティ アプライアンスの例として、ファイアウォール、IDS、IPS があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-368">Examples are the firewall, IDS, and IPS.</span></span> <span data-ttu-id="9bf0a-369">ワークロードからインターネットへのパケットも、ネットワークから送信される前に、境界ネットワーク内のセキュリティ アプライアンスを通過する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-369">Before they leave the network, internet-bound packets from the workloads should also flow through the security appliances in the perimeter network.</span></span> <span data-ttu-id="9bf0a-370">このフローは、ポリシーの適用、検査、監査を目的としています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-370">The purposes of this flow are policy enforcement, inspection, and auditing.</span></span>

<span data-ttu-id="9bf0a-371">境界ネットワーク コンポーネントは、次の機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-371">Perimeter network components provide the following features:</span></span>

-   <span data-ttu-id="9bf0a-372">[仮想ネットワーク][VNet]、[UDR][UDR]、[NSG][NSG]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-372">[Virtual networks][VNet], [UDRs][UDR], and [NSGs][NSG]</span></span>
-   <span data-ttu-id="9bf0a-373">[ネットワーク仮想アプライアンス][NVA]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-373">[Network virtual appliances][NVA]</span></span>
-   <span data-ttu-id="9bf0a-374">[Azure Load Balancer][ALB]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-374">[Azure Load Balancer][ALB]</span></span>
-   <span data-ttu-id="9bf0a-375">[Azure Application Gateway][AppGW] と [Web アプリケーション ファイアウォール (WAF)][WAF]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-375">[Azure Application Gateway][AppGW] and [web application firewall (WAF)][WAF]</span></span>
-   <span data-ttu-id="9bf0a-376">[パブリック IP][PIP]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-376">[Public IPs][PIP]</span></span>
-   <span data-ttu-id="9bf0a-377">[Azure Front Door][AFD]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-377">[Azure Front Door][AFD]</span></span>
-   <span data-ttu-id="9bf0a-378">[Azure Firewall][AzFW]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-378">[Azure Firewall][AzFW]</span></span>

<span data-ttu-id="9bf0a-379">通常、中央 IT チームとセキュリティ チームは、境界ネットワークの要件の定義と運用を担当します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-379">Usually, the central IT and security teams have responsibility for requirement definition and operation of the perimeter networks.</span></span>

<span data-ttu-id="9bf0a-380">[![7]][7]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-380">[![7]][7]</span></span>

<span data-ttu-id="9bf0a-381">上の図は、インターネットとオンプレミスのネットワークにアクセスする 2 つの境界の適用を示しており、どちらも DMZ ハブおよび vWAN ハブに存在します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-381">The preceding diagram shows the enforcement of two perimeters with access to the internet and an on-premises network, both resident in the DMZ and vWAN hubs.</span></span> <span data-ttu-id="9bf0a-382">DMZ ハブでは、Web アプリケーション ファイアウォール (WAF) および/または Azure Firewall の複数のファームを使って、多数の LOB をサポートするようにインターネットへの境界ネットワークをスケールアップできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-382">In the DMZ hub, the perimeter network to internet can scale up to support large numbers of LOBs, using multiple farms of Web Application Firewalls (WAFs) and/or Azure Firewalls.</span></span> <span data-ttu-id="9bf0a-383">vWAN ハブでは、ブランチ間およびブランチから Azure への非常にスケーラブルな接続が、必要に応じて VPN または ExpressRoute 経由で実行されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-383">In the vWAN hub, highly scalable branch to branch and branch to Azure connectivity is accomplished via VPN or ExpressRoute as needed.</span></span>

<span data-ttu-id="9bf0a-384">[**仮想ネットワーク**][VNet]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-384">[**Virtual networks**][VNet].</span></span> <span data-ttu-id="9bf0a-385">通常、ハブは複数のサブネットを含む仮想ネットワーク上に構築され、NVA、WAF、Azure Application Gateway インスタンスを介してインターネットとの間でやり取りされるトラフィックをフィルター処理および検査するさまざまな種類のサービスをホストします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-385">The hub is typically built on a virtual network with multiple subnets to host the different types of services that filter and inspect traffic to or from the internet via NVAs, WAF, and Azure Application Gateway instances.</span></span>

<span data-ttu-id="9bf0a-386">[**UDR**][UDR] UDR を使うと、ファイアウォール、IDS/IPS、その他の仮想アプライアンスをデプロイし、これらのセキュリティ アプライアンスを介してネットワーク トラフィックをルーティングすることで、セキュリティ境界ポリシーを適用、監査、検査することができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-386">[**UDR**][UDR] Using UDRs, customers can deploy firewalls, IDS/IPS, and other virtual appliances, and route network traffic through these security appliances for security boundary policy enforcement, auditing, and inspection.</span></span> <span data-ttu-id="9bf0a-387">UDR はハブとスポークのどちらにでも作成でき、VDC 実装で使用される特定のカスタム VM、ネットワーク仮想アプライアンス、ロード バランサーをトラフィックが通過することを保証します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-387">UDRs can be created in both the hub and the spokes to guarantee that traffic transits through the specific custom VMs, Network Virtual Appliances, and load balancers used by a VDC implementation.</span></span> <span data-ttu-id="9bf0a-388">スポーク内に存在する VM から生成されたトラフィックが正しい仮想アプライアンスに転送されることを保証するには、次ホップとして内部ロード バランサーのフロントエンド IP アドレスを設定することで、スポークのサブネットに UDR を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-388">To guarantee that traffic generated from VMs resident in the spoke transit to the correct virtual appliances, a UDR needs to be set in the subnets of the spoke by setting the front-end IP address of the internal load balancer as the next-hop.</span></span> <span data-ttu-id="9bf0a-389">内部ロード バランサーは、内部トラフィックを仮想アプライアンス (ロード バランサーのバックエンド プール) に分散させます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-389">The internal load balancer distributes the internal traffic to the virtual appliances (load balancer back-end pool).</span></span>

<span data-ttu-id="9bf0a-390">[**Azure Firewall**][AzFW] は、Azure Virtual Network リソースを保護するクラウドベースのマネージド ネットワーク セキュリティ サービスです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-390">[**Azure Firewall**][AzFW] is a managed, cloud-based network security service that protects your Azure Virtual Network resources.</span></span> <span data-ttu-id="9bf0a-391">組み込みの高可用性とクラウドの無制限のスケーラビリティを備えた、完全にステートフルなサービスとしてのファイアウォールです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-391">It's a fully stateful firewall as a service with built-in high availability and unrestricted cloud scalability.</span></span> <span data-ttu-id="9bf0a-392">サブスクリプションと仮想ネットワークをまたいでアプリケーションとネットワークの接続ポリシーを一元的に作成、適用、記録できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-392">You can centrally create, enforce, and log application and network connectivity policies across subscriptions and virtual networks.</span></span> <span data-ttu-id="9bf0a-393">Azure Firewall では、仮想ネットワーク リソースに静的パブリック IP アドレスが使用されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-393">Azure Firewall uses a static public IP address for your virtual network resources.</span></span> <span data-ttu-id="9bf0a-394">これにより、仮想ネットワークから送信されるトラフィックを外部のファイアウォールで識別できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-394">It allows outside firewalls to identify traffic that originates from your virtual network.</span></span> <span data-ttu-id="9bf0a-395">サービスはログ記録と分析を行うために Azure Monitor と完全に統合されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-395">The service is fully integrated with Azure Monitor for logging and analytics.</span></span>

<span data-ttu-id="9bf0a-396">[**ネットワーク仮想アプライアンス**][NVA]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-396">[**Network virtual appliances**][NVA].</span></span> <span data-ttu-id="9bf0a-397">ハブでは、インターネットにアクセスする境界ネットワークは、通常、Azure Firewall インスタンスあるいはファイアウォールまたは Web アプリケーション ファイアウォール (WAF) のファームによって管理されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-397">In the hub, the perimeter network with access to the internet is normally managed through an Azure Firewall instance or a farm of firewalls or web application firewall (WAF).</span></span>

<span data-ttu-id="9bf0a-398">一般に、さまざまな LOB で多くの Web アプリケーションが使用されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-398">Different LOBs commonly use many web applications.</span></span> <span data-ttu-id="9bf0a-399">これらのアプリケーションは、さまざまな脆弱性や潜在的な悪用の影響を受ける傾向があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-399">These applications tend to suffer from various vulnerabilities and potential exploits.</span></span> <span data-ttu-id="9bf0a-400">Web アプリケーション ファイアウォールは、Web アプリケーション (HTTP/HTTPS) に対する攻撃を汎用ファイアウォールよりも詳細に検出するために使用される特殊な種類の製品です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-400">Web application firewalls are a special type of product used to detect attacks against web applications, HTTP/HTTPS, in more depth than a generic firewall.</span></span> <span data-ttu-id="9bf0a-401">従来のファイアウォール テクノロジと比較すると、WAF は脅威から内部 Web サーバーを保護するための特定の機能セットを備えています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-401">Compared with tradition firewall technology, WAFs have a set of specific features to protect internal web servers from threats.</span></span>

<span data-ttu-id="9bf0a-402">Azure Firewall または NVA ファイアウォールはいずれも共通管理プレーンを使用し、一連のセキュリティ規則により、スポークでホストされているワークロードを保護し、オンプレミスのネットワークへのアクセスを制御します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-402">An Azure Firewall or NVA firewall both use a common administration plane, with a set of security rules to protect the workloads hosted in the spokes, and control access to on-premises networks.</span></span> <span data-ttu-id="9bf0a-403">Azure Firewall にはスケーラビリティが組み込まれているのに対し、NVA ファイアウォールはロード バランサーの背後で手動でスケーリングすることができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-403">The Azure Firewall has scalability built in, whereas NVA firewalls can be manually scaled behind a load balancer.</span></span> <span data-ttu-id="9bf0a-404">一般に、ファイアウォール ファームは WAF ほど特化したソフトウェアではありませんが、エグレスおよびイングレスのあらゆる種類のトラフィックをフィルター処理して検査する、より広範なアプリケーション スコープを備えています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-404">Generally, a firewall farm has less specialized software compared with a WAF, but has a broader application scope to filter and inspect any type of traffic in egress and ingress.</span></span> <span data-ttu-id="9bf0a-405">これは、NVA アプローチが使用されている場合に、Azure Marketplace から検索してデプロイすることができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-405">If an NVA approach is used, they can be found and deployed from the Azure marketplace.</span></span>

<span data-ttu-id="9bf0a-406">インターネットから送信されるトラフィックとオンプレミスから送信されるトラフィックには、それぞれ異なる Azure Firewall (または NVA) のセットを使用してください。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-406">Use one set of Azure Firewalls (or NVAs) for traffic originating on the Internet, and another for traffic originating on-premises.</span></span> <span data-ttu-id="9bf0a-407">両方にただ 1 つのファイアウォールのセットを使うと、2 つのネットワーク トラフィック セットの間にセキュリティ境界が提供されないため、セキュリティ リスクになります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-407">Using only one set of firewalls for both is a security risk, as it provides no security perimeter between the two sets of network traffic.</span></span> <span data-ttu-id="9bf0a-408">異なるファイアウォール レイヤーを使うと、セキュリティ規則のチェックの複雑さが軽減され、規則と受信ネットワーク要求の対応が明確になります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-408">Using separate firewall layers reduces the complexity of checking security rules, and makes it clear which rules correspond to which incoming network request.</span></span>

<span data-ttu-id="9bf0a-409">インターネットから送信されるトラフィックには、Azure Firewall インスタンスまたは NVA の特定のセットを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-409">We recommend that you use one set of Azure Firewall instances, or NVAs, for traffic originating on the internet.</span></span> <span data-ttu-id="9bf0a-410">オンプレミスから送信されるトラフィックには、別のセットを使用します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-410">Use another for traffic originating on-premises.</span></span> <span data-ttu-id="9bf0a-411">両方にファイアウォールの同じセットを使用すると、2 つのネットワーク トラフィック セットの間にセキュリティ境界が提供されないため、セキュリティ リスクになります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-411">Using only one set of firewalls for both is a security risk as it provides no security perimeter between the two sets of network traffic.</span></span> <span data-ttu-id="9bf0a-412">個別のファイアウォール レイヤーを使用すると、セキュリティ規則のチェックの複雑さが軽減され、規則と受信ネットワーク要求の対応が明確になります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-412">Using separate firewall layers reduces the complexity of checking security rules and makes it clear which rules correspond to which incoming network request.</span></span>

<span data-ttu-id="9bf0a-413">[**Azure Load Balancer**][ALB] が提供する高可用性レイヤー 4 (TCP、UDP) サービスは、負荷分散セットで定義されているサービス インスタンス間に受信トラフィックを分散できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-413">[**Azure Load Balancer**][ALB] offers a high availability Layer 4 (TCP, UDP) service, which can distribute incoming traffic among service instances defined in a load-balanced set.</span></span> <span data-ttu-id="9bf0a-414">フロントエンド エンドポイント (パブリック IP エンドポイントまたはプライベート IP エンドポイント) からロード バランサーに送信されたトラフィックは、アドレス変換をして、またはしないで、バックエンド IP アドレス プール (例: ネットワーク仮想アプライアンスまたは VM) のセットに再配信できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-414">Traffic sent to the load balancer from front-end endpoints (public IP endpoints or private IP endpoints) can be redistributed with or without address translation to a set of back-end IP address pool (examples being; Network Virtual Appliances or VMs).</span></span>

<span data-ttu-id="9bf0a-415">Azure Load Balancer は、さまざまなサーバー インスタンスの正常性をプローブすることもでき、プローブが応答に失敗した場合、ロード バランサーは異常なインスタンスへのトラフィック送信を停止します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-415">Azure Load Balancer can probe the health of the various server instances as well, and when a probe fails to respond the load balancer stops sending traffic to the unhealthy instance.</span></span> <span data-ttu-id="9bf0a-416">VDC では、外部ロード バランサーがハブとスポークにデプロイされています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-416">In the VDC, an external load balancer is deployed to the hub and the spokes.</span></span> <span data-ttu-id="9bf0a-417">ハブでは、スポーク内のサービスにトラフィックを効率的にルーティングするためにロード バランサーが使用され、スポークでは、アプリケーション トラフィックを管理するためにロード バランサーが使用されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-417">In the hub, the load balancer is used to efficiently route traffic to services in the spokes, and in the spokes, load balancers are used to manage application traffic.</span></span>

<span data-ttu-id="9bf0a-418">[**Azure Front Door**][AFD] (AFD) は、Microsoft による高可用性かつスケーラブルな Web アプリケーション アクセラレーション プラットフォーム、グローバル HTTP ロード バランサー、アプリケーション保護、コンテンツ配信ネットワークです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-418">[**Azure Front Door**][AFD] (AFD) is Microsoft's highly available and scalable Web Application Acceleration Platform, Global HTTP Load Balancer, Application Protection, and Content Delivery Network.</span></span> <span data-ttu-id="9bf0a-419">AFD は、Microsoft のグローバル ネットワークのエッジの 100 を超える箇所で動作し、動的 Web アプリケーションと静的コンテンツを構築、操作、スケールアウトできるようにします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-419">Running in more than 100 locations at the Edge of Microsoft's Global Network, AFD enables you to build, operate, and scale out your dynamic web application and static content.</span></span> <span data-ttu-id="9bf0a-420">AFD を使用すれば、世界レベルのエンドユーザー パフォーマンス、統一されたリージョン/スタンプのメンテナンス自動化、BCDR の自動化、統一されたクライアント/ユーザー情報、キャッシュ、サービスの分析情報がアプリケーションに提供されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-420">AFD provides your application with world-class end-user performance, unified regional/stamp maintenance automation, BCDR automation, unified client/user information, caching, and service insights.</span></span> <span data-ttu-id="9bf0a-421">このプラットフォームは、パフォーマンス、信頼性、サポートの SLA やコンプライアンス認定資格に加え、Azure でネイティブに開発、運用、サポートされている監査可能なセキュリティ プラクティスを提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-421">The platform offers performance, reliability and support SLAs, compliance certifications and auditable security practices developed, operated, and supported natively by Azure.</span></span>

<span data-ttu-id="9bf0a-422">[**Application Gateway**][AppGW] Microsoft Azure Application Gateway は、アプリケーション配信コントローラー (ADC) をサービスとして提供する専用仮想アプライアンスで、さまざまなレイヤー 7 負荷分散機能をアプリケーションで利用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-422">[**Application Gateway**][AppGW] Microsoft Azure Application Gateway is a dedicated virtual appliance providing application delivery controller (ADC) as a service, offering various layer 7 load-balancing capabilities for your application.</span></span> <span data-ttu-id="9bf0a-423">これにより、CPU を集中的に使用する SSL 終了を Application Gateway にオフロードし、Web ファームの生産性を最適化できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-423">It allows you to optimize web farm productivity by offloading CPU intensive SSL termination to the application gateway.</span></span> <span data-ttu-id="9bf0a-424">また、着信トラフィックのラウンド ロビン分散、Cookie ベースのセッション アフィニティ、URL パス ベースのルーティング、単一の Application Gateway の背後で複数の Web サイトをホストする機能など、その他のレイヤー 7 ルーティング機能も用意されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-424">It also provides other layer 7 routing capabilities including round robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and the ability to host multiple websites behind a single Application Gateway.</span></span> <span data-ttu-id="9bf0a-425">アプリケーション ゲートウェイの WAF SKU の一部として、Web アプリケーション ファイアウォール (WAF) も提供されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-425">A web application firewall (WAF) is also provided as part of the application gateway WAF SKU.</span></span> <span data-ttu-id="9bf0a-426">この SKU は、一般的な Web の脆弱性や悪用から Web アプリケーションを保護します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-426">This SKU provides protection to web applications from common web vulnerabilities and exploits.</span></span> <span data-ttu-id="9bf0a-427">Application Gateway は、インターネット接続ゲートウェイ、または内部的にのみ使用されるゲートウェイのいずれかとして構成できるほか、この両方を組み合わせて使用することも可能です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-427">Application Gateway can be configured as internet facing gateway, internal only gateway, or a combination of both.</span></span> 

<span data-ttu-id="9bf0a-428">[**パブリック IP**][PIP]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-428">[**Public IPs**][PIP].</span></span> <span data-ttu-id="9bf0a-429">Azure の一部の機能を使用すると、サービス エンドポイントをパブリック IP アドレスに関連付けることができるので、インターネットからリソースにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-429">With some Azure features, you can associate service endpoints to a public IP address, so that your resource can be accessed from the internet.</span></span> <span data-ttu-id="9bf0a-430">このエンドポイントでは、ネットワーク アドレス変換 (NAT) を使用して、Azure 仮想ネットワーク上の内部アドレスとポートにトラフィックをルーティングします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-430">This endpoint uses network address translation (NAT) to route traffic to the internal address and port on the Azure virtual network.</span></span> <span data-ttu-id="9bf0a-431">これは、外部トラフィックが仮想ネットワークに到達するための主な経路です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-431">This path is the primary way for external traffic to pass into the virtual network.</span></span> <span data-ttu-id="9bf0a-432">パブリック IP アドレスを構成することで、仮想ネットワークに渡されるトラフィックと、そのトラフィックが仮想ネットワークのどこでどのように変換されるのかを決定することができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-432">You can configure public IP addresses to determine which traffic is passed in and how and where it's translated onto the virtual network.</span></span>

<span data-ttu-id="9bf0a-433">[**Azure DDoS Protection Standard**][DDOS] は、[Basic サービス][DDOS] レベルに加えて、特に Azure Virtual Network リソースに対してチューニングされた追加の軽減機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-433">[**Azure DDoS Protection Standard**][DDOS] provides additional mitigation capabilities over the [Basic service][DDOS] tier that are tuned specifically to Azure Virtual Network resources.</span></span> <span data-ttu-id="9bf0a-434">DDoS Protection Standard の有効化は簡単であり、アプリケーションの変更は不要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-434">DDoS Protection Standard is simple to enable and requires no application changes.</span></span> <span data-ttu-id="9bf0a-435">保護ポリシーは、専用のトラフィック監視および機械学習アルゴリズムによってチューニングされます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-435">Protection policies are tuned through dedicated traffic monitoring and machine learning algorithms.</span></span> <span data-ttu-id="9bf0a-436">ポリシーは、仮想ネットワークにデプロイされたリソースに関連付けられているパブリック IP アドレスに適用されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-436">Policies are applied to public IP addresses associated to resources deployed in virtual networks.</span></span> <span data-ttu-id="9bf0a-437">リソースの例として、Azure Load Balancer、Azure Application Gateway、Azure Service Fabric のインスタンスがあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-437">Examples are Azure Load Balancer, Azure Application Gateway, and Azure Service Fabric instances.</span></span> <span data-ttu-id="9bf0a-438">攻撃中および履歴の表示のために、Azure Monitor ビューからリアルタイムのテレメトリを使用できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-438">Real-time telemetry is available through Azure Monitor views during an attack and for history.</span></span> <span data-ttu-id="9bf0a-439">アプリケーション レイヤー保護は、Azure Application Gateway Web アプリケーション ファイアウォールによって追加できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-439">Application layer protection can be added through the Azure Application Gateway web application firewall.</span></span> <span data-ttu-id="9bf0a-440">IPv4 の Azure パブリック IP アドレスに対して保護が提供されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-440">Protection is provided for IPv4 Azure public IP addresses.</span></span>

#### <a name="component-type-monitoring"></a><span data-ttu-id="9bf0a-441">コンポーネントの種類:監視</span><span class="sxs-lookup"><span data-stu-id="9bf0a-441">Component type: Monitoring</span></span>

<span data-ttu-id="9bf0a-442">監視コンポーネントは、他のすべてのコンポーネントの種類からの可視性とアラートを提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-442">Monitoring components provide visibility and alerting from all the other components types.</span></span> <span data-ttu-id="9bf0a-443">すべてのチームは、アクセスできるコンポーネントとサービスに対する監視にアクセスできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-443">All teams should have access to monitoring for the components and services they have access to.</span></span> <span data-ttu-id="9bf0a-444">一元的なヘルプ デスクまたは運用チームは、これらのコンポーネントによって提供されるデータへの統合アクセスが必要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-444">If you have a centralized help desk or operations teams, they require integrated access to the data provided by these components.</span></span>

<span data-ttu-id="9bf0a-445">Azure では、Azure がホストするリソースの動作を追跡するために、さまざまな種類のログ サービスと監視サービスが提供されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-445">Azure offers different types of logging and monitoring services to track the behavior of Azure-hosted resources.</span></span> <span data-ttu-id="9bf0a-446">Azure でのワークロードのガバナンスと制御は、ログ データの収集だけでなく、報告された特定のイベントに基づいてアクションをトリガーする機能にも基づいています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-446">Governance and control of workloads in Azure is based not just on collecting log data but also on the ability to trigger actions based on specific reported events.</span></span>

<span data-ttu-id="9bf0a-447">[**Azure Monitor**][Monitor]。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-447">[**Azure Monitor**][Monitor].</span></span> <span data-ttu-id="9bf0a-448">Azure には、監視領域において特定の役割やタスクを個別に実行するサービスが複数用意されています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-448">Azure includes multiple services that individually perform a specific role or task in the monitoring space.</span></span> <span data-ttu-id="9bf0a-449">また、これらのサービスが組み合わされた包括的なソリューションを使用すれば、アプリケーションやそれらのサービスを支える Azure リソースからテレメトリを収集、分析し、それに基づいて対処できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-449">Together, these services deliver a comprehensive solution for collecting, analyzing, and acting on telemetry from your application and the Azure resources that support them.</span></span> <span data-ttu-id="9bf0a-450">また、オンプレミスの重要なリソースを監視して、ハイブリッド監視環境を構築することもできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-450">They can also work to monitor critical on-premises resources in order to provide a hybrid monitoring environment.</span></span> <span data-ttu-id="9bf0a-451">アプリケーションの包括的な監視戦略を策定するための最初のステップは、利用可能なツールとデータの把握です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-451">Understanding the tools and data that are available is the first step in developing a complete monitoring strategy for your application.</span></span>

<span data-ttu-id="9bf0a-452">Azure の主要なログの種類は次の 2 つです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-452">There are two major types of logs in Azure:</span></span>

-   <span data-ttu-id="9bf0a-453">[Azure アクティビティ ログ][ActLog] (以前の名称は**操作ログ**) では、Azure サブスクリプションのリソースに対して実行された操作を把握できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-453">The [Azure Activity Log][ActLog], previously called **Operational Logs**, provides insight into the operations that were performed on resources in the Azure subscription.</span></span> <span data-ttu-id="9bf0a-454">これらのログは、サブスクリプションのコントロールプレーン イベントを報告します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-454">These logs report the control-plane events for your subscriptions.</span></span> <span data-ttu-id="9bf0a-455">すべての Azure リソースで監査ログが生成されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-455">Every Azure resource produces audit logs.</span></span>

-   <span data-ttu-id="9bf0a-456">[Azure Monitor 診断ログ][DiagLog]は、リソースによって生成されるログであり、そのリソースの操作に関する豊富なデータを提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-456">[Azure Monitor diagnostic logs][DiagLog] are logs generated by a resource that provides rich, frequent data about the operation of that resource.</span></span> <span data-ttu-id="9bf0a-457">これらのログの内容は、リソースの種類によって異なります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-457">The content of these logs varies by resource type.</span></span>

<span data-ttu-id="9bf0a-458">[![9]][9]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-458">[![9]][9]</span></span>

<span data-ttu-id="9bf0a-459">NSG ログの特に次の情報を追跡することが重要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-459">It is important to track the NSGs logs, particularly this information:</span></span>

-   <span data-ttu-id="9bf0a-460">[イベント ログ][NSGLog]: MAC アドレスに基づいて VM とインスタンス ロールに適用される NSG ルールに関する情報が提供されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-460">[Event logs][NSGLog] provide information on what NSG rules are applied to VMs and instance roles based on MAC address.</span></span>
-   <span data-ttu-id="9bf0a-461">[カウンター ログ][NSGLog]: トラフィックを拒否または許可するために各 NSG ルールが実行された回数を追跡します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-461">[Counter logs][NSGLog] track how many times each NSG rule was run to deny or allow traffic.</span></span>

<span data-ttu-id="9bf0a-462">監査、スタティック分析、またはバックアップのために、すべてのログを Azure ストレージ アカウントに保存できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-462">All logs can be stored in Azure storage accounts for audit, static analysis, or backup purposes.</span></span> <span data-ttu-id="9bf0a-463">Azure ストレージ アカウントにログを保存すると、さまざまな種類のフレームワークを使用してこのデータを取得、準備、分析、視覚化し、クラウド リソースの状態と正常性を報告できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-463">When you store the logs in an Azure storage account, customers can use different types of frameworks to retrieve, prep, analyze, and visualize this data to report the status and health of cloud resources.</span></span> 

<span data-ttu-id="9bf0a-464">大企業では、オンプレミス システムの監視用に標準的なフレームワークを既に利用していると考えられます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-464">Large enterprises should already have acquired a standard framework for monitoring on-premises systems.</span></span> <span data-ttu-id="9bf0a-465">そのフレームワークを拡張して、クラウド デプロイによって生成されたログを統合できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-465">They can extend that framework to integrate logs generated by cloud deployments.</span></span> <span data-ttu-id="9bf0a-466">組織では、[Azure Log Analytics](/azure/log-analytics/log-analytics-queries) を使用して、すべてのログをクラウドに保持できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-466">By using [Azure Log Analytics](/azure/log-analytics/log-analytics-queries), organizations can keep all the logging in the cloud.</span></span> <span data-ttu-id="9bf0a-467">Log Analytics は、クラウドベースのサービスとして実装されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-467">Log Analytics is implemented as a cloud-based service.</span></span> <span data-ttu-id="9bf0a-468">そのため、インフラストラクチャ サービスへの投資を最小限に抑えて、このサービスをすぐに稼働させることができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-468">So you have it up and running quickly with minimal investment in infrastructure services.</span></span> <span data-ttu-id="9bf0a-469">Log Analytics は、System Center Operations Manager などの System Center のコンポーネントと統合して、管理のための既存の投資をクラウドに拡張することもできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-469">Log Analytics also integrate with System Center components like System Center Operations Manager to extend your existing management investments into the cloud.</span></span> 

<span data-ttu-id="9bf0a-470">Log Analytics は、オペレーティング システム、アプリケーション、インフラストラクチャ クラウド コンポーネントによって生成されたログおよびパフォーマンス データを収集、関連付け、検索、操作するための、Azure のサービスです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-470">Log Analytics is a service in Azure that helps collect, correlate, search, and act on log and performance data generated by operating systems, applications, and infrastructure cloud components.</span></span> <span data-ttu-id="9bf0a-471">統合された検索およびカスタム ダッシュボードを使って、VDC 実装のすべてのワークロードのすべてのレコードを分析するためのリアルタイムの運用分析情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-471">It gives customers real-time operational insights using integrated search and custom dashboards to analyze all the records across all your workloads in your VDC implementation.</span></span>

<span data-ttu-id="9bf0a-472">[Azure Network Watcher][NetWatch] は、Azure 仮想ネットワーク内のリソースの監視、診断、メトリックの表示、ログの有効化/無効化を行うツールを提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-472">[Azure Network Watcher][NetWatch] provides tools to monitor, diagnose, and view metrics and enable or disable logs for resources in an Azure virtual network.</span></span> <span data-ttu-id="9bf0a-473">これは、次のような機能を提供する多面的なサービスです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-473">It's a multifaceted service that allows the following functionalities and more:</span></span>
-    <span data-ttu-id="9bf0a-474">仮想マシンとエンドポイント間の通信を監視する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-474">Monitor communication between a virtual machine and an endpoint.</span></span>
-    <span data-ttu-id="9bf0a-475">仮想ネットワーク内のリソースとそれらの関係を表示する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-475">View resources in a virtual network and their relationships.</span></span>
-    <span data-ttu-id="9bf0a-476">VM との間で発生するネットワーク トラフィック フィルターの問題を診断する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-476">Diagnose network traffic filtering problems to or from a VM.</span></span>
-    <span data-ttu-id="9bf0a-477">VM からのネットワーク ルーティングの問題を診断する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-477">Diagnose network routing problems from a VM.</span></span>
-    <span data-ttu-id="9bf0a-478">VM からの送信接続を診断する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-478">Diagnose outbound connections from a VM.</span></span>
-    <span data-ttu-id="9bf0a-479">VM との間のパケットをキャプチャする。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-479">Capture packets to and from a VM.</span></span>
-    <span data-ttu-id="9bf0a-480">Azure 仮想ネットワーク ゲートウェイと接続に関する問題を診断する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-480">Diagnose problems with an Azure virtual network gateway and connections.</span></span>
-    <span data-ttu-id="9bf0a-481">Azure リージョンとインターネット サービス プロバイダー間の相対待ち時間を確認する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-481">Determine relative latencies between Azure regions and internet service providers.</span></span>
-    <span data-ttu-id="9bf0a-482">ネットワーク インターフェイスのセキュリティ規則を表示する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-482">View security rules for a network interface.</span></span>
-    <span data-ttu-id="9bf0a-483">ネットワーク メトリックを表示する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-483">View network metrics.</span></span>
-    <span data-ttu-id="9bf0a-484">ネットワーク セキュリティ グループとの間のトラフィックを分析する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-484">Analyze traffic to or from a network security group.</span></span>
-    <span data-ttu-id="9bf0a-485">ネットワーク リソースの診断ログを表示する。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-485">View diagnostic logs for network resources.</span></span>

<span data-ttu-id="9bf0a-486">Operations Management Suite 内の [Network Performance Monitor][NPM] ソリューションは、ネットワークの詳細情報をエンド ツー エンドで提供できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-486">The [Network Performance Monitor][NPM] solution inside Operations Management Suite can provide detailed network information end to end.</span></span> <span data-ttu-id="9bf0a-487">この情報には、Azure ネットワークとオンプレミス ネットワークの単一ビューが含まれます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-487">This information includes a single view of your Azure networks and on-premises networks.</span></span> <span data-ttu-id="9bf0a-488">このソリューションには、ExpressRoute とパブリック サービスの固有のモニターがあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-488">The solution has specific monitors for ExpressRoute and public services.</span></span>

#### <a name="component-type-workloads"></a><span data-ttu-id="9bf0a-489">コンポーネントの種類:ワークロード</span><span class="sxs-lookup"><span data-stu-id="9bf0a-489">Component type: Workloads</span></span>

<span data-ttu-id="9bf0a-490">ワークロード コンポーネントは、実際のアプリケーションとサービスが存在する場所です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-490">Workload components are where your actual applications and services reside.</span></span> <span data-ttu-id="9bf0a-491">アプリケーション開発チームはここで最も多くの時間を費やします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-491">It's also where your application development teams spend most of their time.</span></span>

<span data-ttu-id="9bf0a-492">ワークロードの可能性は無限です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-492">The workload possibilities are endless.</span></span> <span data-ttu-id="9bf0a-493">次に示すのは可能なワークロードの種類のほんの一部です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-493">The following are just a few of the possible workload types:</span></span>

<span data-ttu-id="9bf0a-494">**内部 LOB アプリケーション**:基幹業務アプリケーションは、企業の現在の経営にとって重要なコンピューター アプリケーションです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-494">**Internal LOB Applications**: Line-of-business applications are computer applications critical to the ongoing operation of an enterprise.</span></span> <span data-ttu-id="9bf0a-495">LOB アプリケーションには、いくつかの一般的な特性があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-495">LOB applications have some common characteristics:</span></span>

-   <span data-ttu-id="9bf0a-496">**本質的に対話型** - </span><span class="sxs-lookup"><span data-stu-id="9bf0a-496">**Interactive** by nature.</span></span> <span data-ttu-id="9bf0a-497">データを入力すると、結果またはレポートが返されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-497">Data is entered, and results or reports are returned.</span></span>
-   <span data-ttu-id="9bf0a-498">**データ ドリブン** - データベースや他のストレージに頻繁にアクセスするデータ集約型です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-498">**Data driven**&mdash;data intensive with frequent access to databases or other storage.</span></span>
-   <span data-ttu-id="9bf0a-499">**統合型** - 組織の内外の他のシステムと統合されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-499">**Integrated**&mdash;offer integration with other systems within or outside the organization.</span></span>

<span data-ttu-id="9bf0a-500">**顧客向け Web サイト (インターネットまたは内部接続)**:インターネットと対話するほとんどのアプリケーションは Web サイトです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-500">**Customer facing web sites (Internet or Internal facing)**: Most applications that interact with the Internet are web sites.</span></span> <span data-ttu-id="9bf0a-501">Azure は、IaaS VM 上または [Azure Web Apps][WebApps] サイト (PaaS) から Web サイトを実行する機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-501">Azure offers the capability to run a web site on an IaaS VM or from an [Azure Web Apps][WebApps] site (PaaS).</span></span> <span data-ttu-id="9bf0a-502">Azure Web Apps は VNet との統合をサポートし、ネットワーク ゾーンのスポークに Web アプリをデプロイできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-502">Azure Web Apps support integration with VNets that allow the deployment of the Web Apps in a spoke network zone.</span></span> <span data-ttu-id="9bf0a-503">プライベートの VNet からは、インターネット経由でルーティングできないプライベート アドレスを介してリソースにアクセスできるので、社内向け Web サイトでパブリック インターネット エンドポイントを公開する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-503">Internal facing web sites don't need to expose a public internet endpoint becuase the resources are accessible via private non-internet routable addresses from the private VNet.</span></span>

<span data-ttu-id="9bf0a-504">**ビッグ データ/分析**:データを膨大な量に拡張する必要があるときに、データベースが適切にスケールアップされない場合があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-504">**Big Data/Analytics**: When data needs to scale up to a large volume, databases may not scale up properly.</span></span> <span data-ttu-id="9bf0a-505">Hadoop テクノロジは、多数のノードで分散クエリを並列に実行するシステムを提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-505">Hadoop technology offers a system to run distributed queries in parallel on large number of nodes.</span></span> <span data-ttu-id="9bf0a-506">ユーザーは、データ ワークロードを IaaS VM または PaaS ([HDInsight][HDI]) で実行することを選択できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-506">Customers have the option to run data workloads in IaaS VMs or PaaS ([HDInsight][HDI]).</span></span> <span data-ttu-id="9bf0a-507">HDInsight は、場所ベースの VNet へのデプロイをサポートし、VDC のスポーク内のクラスターにデプロイできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-507">HDInsight supports deploying into a location-based VNet, can be deployed to a cluster in a spoke of the VDC.</span></span>

<span data-ttu-id="9bf0a-508">**イベントとメッセージング**:[Azure Event Hubs][EventHubs] は、数百万のイベントを収集、変換、保存する、ハイパースケールのテレメトリ インジェスト サービスです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-508">**Events and Messaging**: [Azure Event Hubs][EventHubs] is a hyper-scale telemetry ingestion service that collects, transforms, and stores millions of events.</span></span> <span data-ttu-id="9bf0a-509">分散型のストリーミング プラットフォームとして、遅延時間が短く、保持時間を設定可能なため、膨大な量のテレメトリを Azure に送信し、複数のアプリケーションからデータを読み込むことができます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-509">As a distributed streaming platform, it offers low latency and configurable time retention, enabling you to ingest massive amounts of telemetry into Azure and read that data from multiple applications.</span></span> <span data-ttu-id="9bf0a-510">Event Hubs では、1 つのストリームでリアルタイム パイプラインとバッチ ベースのパイプラインの両方をサポートできます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-510">With Event Hubs, a single stream can support both real-time and batch-based pipelines.</span></span>

<span data-ttu-id="9bf0a-511">[Azure Service Bus][ServiceBus] により、アプリケーションとサービス間に信頼性の高いクラウド メッセージング サービスを実装できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-511">You can implement a highly reliable cloud messaging service between applications and services through [Azure Service Bus][ServiceBus].</span></span> <span data-ttu-id="9bf0a-512">Azure Service Bus は、クライアントとサーバー間の非同期のブローカー メッセージング、構造化された先入れ先出し (FIFO) メッセージング、および発行機能とサブスクライブ機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-512">It offers asynchronous brokered messaging between client and server, structured first-in-first-out (FIFO) messaging, and publish and subscribe capabilities.</span></span>

<span data-ttu-id="9bf0a-513">[![10]][10]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-513">[![10]][10]</span></span>

### <a name="making-the-vdc-highly-available-multiple-vdcs"></a><span data-ttu-id="9bf0a-514">VDC の可用性を高める: 複数の VDC</span><span class="sxs-lookup"><span data-stu-id="9bf0a-514">Making the VDC highly available: multiple VDCs</span></span>

<span data-ttu-id="9bf0a-515">ここまで、この記事では、単一の VDC の設計に注目し、回復性に寄与する基本的なコンポーネントとアーキテクチャについて説明してきました。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-515">So far, this article has focused on the design of a single VDC, describing the basic components and architecture that contribute to resiliency.</span></span> <span data-ttu-id="9bf0a-516">Azure には、Azure Load Balancer、NVA、可用性セット、スケール セット、そして運用サービスに確実な SLA レベルを構築できるシステムに寄与する他のメカニズムなどの機能があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-516">Azure features such as Azure load balancer, NVAs, availability sets, scale sets, along with other mechanisms contribute to a system that enable you to build solid SLA levels into your production services.</span></span>

<span data-ttu-id="9bf0a-517">ただし、単一の VDC は一般的に単一のリージョン内でホストされるため、そのリージョン全体に影響を与える大規模な停止に対して脆弱な場合があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-517">However, because a single VDC is typically implemented within a single region, it may be vulnerable to any major outage that affects that entire region.</span></span> <span data-ttu-id="9bf0a-518">高い SLA が必要なお客様は、異なるリージョンに配置された 2 つ(またはそれ以上) の VDC 実装に同じプロジェクトをデプロイして、サービスを保護する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-518">Customers that require high SLAs must protect the services through deployments of the same project in two (or more) VDC implementations placed in different regions.</span></span>

<span data-ttu-id="9bf0a-519">SLA の問題に加え、複数の VDC 実装をデプロイすることに意味がある一般的なシナリオがいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-519">In addition to SLA concerns, there are several common scenarios where deploying multiple VDC implementations makes sense:</span></span>

-   <span data-ttu-id="9bf0a-520">リージョンまたはグローバル プレゼンス</span><span class="sxs-lookup"><span data-stu-id="9bf0a-520">Regional or global presence.</span></span>
-   <span data-ttu-id="9bf0a-521">ディザスター リカバリー</span><span class="sxs-lookup"><span data-stu-id="9bf0a-521">Disaster recovery.</span></span>
-   <span data-ttu-id="9bf0a-522">データセンター間でトラフィックを転送するメカニズム</span><span class="sxs-lookup"><span data-stu-id="9bf0a-522">A mechanism to divert traffic between datacenters.</span></span>

#### <a name="regionalglobal-presence"></a><span data-ttu-id="9bf0a-523">リージョンへの配置/グローバルな配置</span><span class="sxs-lookup"><span data-stu-id="9bf0a-523">Regional/global presence</span></span>

<span data-ttu-id="9bf0a-524">Azure データセンターは世界中の多数のリージョンに存在します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-524">Azure datacenters are present in numerous regions worldwide.</span></span> <span data-ttu-id="9bf0a-525">複数の Azure データセンターを選択するとき、ユーザーは地理的な距離と待機時間という関連する 2 つの要因を考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-525">When selecting multiple Azure datacenters, customers need to consider two related factors: geographical distances and latency.</span></span> <span data-ttu-id="9bf0a-526">最良のユーザー エクスペリエンスを提供するには、各 VDC 実装間の地理的な距離と、各 VDC 実装とエンド ユーザー間の距離を評価してください。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-526">To offer the best user experience, evaluate the geographical distance between each VDC implementation as well as the distance between each VDC implementation and the end users.</span></span>

<span data-ttu-id="9bf0a-527">VDC 実装がホストされているリージョンは、組織が運営されている法的管轄によって定められた規制要件に準拠している必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-527">The region in which VDC implementations are hosted must conform with regulatory requirements established by any legal jurisdiction under which your organization operates.</span></span>

#### <a name="disaster-recovery"></a><span data-ttu-id="9bf0a-528">障害復旧</span><span class="sxs-lookup"><span data-stu-id="9bf0a-528">Disaster recovery</span></span>

<span data-ttu-id="9bf0a-529">ディザスター リカバリー計画の設計は、ワークロードの種類と、さまざまな VDC 実装間でワークロードの状態を同期する機能によって変わります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-529">The design of a disaster recovery plan depends on the types of workloads  and the ability to synchronize state of those workloads between different VDC implementations.</span></span> <span data-ttu-id="9bf0a-530">ほとんどのお客様は高速フェールオーバー メカニズムを望んでおり、そのためには、状況に応じて複数の VDC 実装を実行するデプロイ間でアプリケーション データを同期する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-530">Ideally, most customers desire a fast fail-over mechanism, and this may require application data synchronization between deployments running multiple VDC implementations.</span></span> <span data-ttu-id="9bf0a-531">ただし、ディザスター リカバリー計画を設計する場合は、ほとんどのアプリケーションがこのようなデータの同期によって発生する可能性がある待機時間の影響を受けやすい点を考慮することが重要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-531">However, when designing disaster recovery plans, it's important to consider that most applications are sensitive to the latency that can be caused by this data synchronization.</span></span>

<span data-ttu-id="9bf0a-532">異なる VDC 実装内のアプリケーションの同期とハートビート監視には、ネットワークを介した通信が必要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-532">Synchronization and heartbeat monitoring of applications in different VDC implementations requires them to communicate over the network.</span></span> <span data-ttu-id="9bf0a-533">異なるリージョンの 2 つの VDC 実装は、次の方法で接続できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-533">Two VDC implementations in different regions can be connected through:</span></span>

-   <span data-ttu-id="9bf0a-534">VNet ピアリング - VNet ピアリングはリージョンをまたいでハブを接続できます</span><span class="sxs-lookup"><span data-stu-id="9bf0a-534">VNet Peering - VNet Peering can connect hubs across regions</span></span>
-   <span data-ttu-id="9bf0a-535">ExpressRoute のプライベート ピアリング (各 VDC 実装内のハブが同じ ExpressRoute 回線に接続されている場合)</span><span class="sxs-lookup"><span data-stu-id="9bf0a-535">ExpressRoute private peering when the hubs in each VDC implementation are connected to the same ExpressRoute circuit</span></span>
-   <span data-ttu-id="9bf0a-536">企業バックボーン経由で接続されている複数の ExpressRoute 回線と、ExpressRoute 回線に接続された複数の VDC 実装</span><span class="sxs-lookup"><span data-stu-id="9bf0a-536">multiple ExpressRoute circuits connected via your corporate backbone and your multiple VDC implementations connected to the ExpressRoute circuits</span></span>
-   <span data-ttu-id="9bf0a-537">各 Azure リージョン内の VDC 実装のハブ ゾーン間のサイト間 VPN 接続。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-537">Site-to-Site VPN connections between the hub zone of your VDC implementations in each Azure Region</span></span>

<span data-ttu-id="9bf0a-538">Microsoft バックボーン経由の通過では、高い帯域幅と一貫性のある待機時間レベルなので、VNet ピアリングまたは ExpressRoute の接続が通常は好ましい種類のネットワーク接続です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-538">Typically, VNet Peering or ExpressRoute connections are the preferred type of network connectivity due to the higher bandwidth and consistent latency levels when transiting through the Microsoft backbone.</span></span>

<span data-ttu-id="9bf0a-539">このような接続の待機時間と帯域幅を確認し、その結果に基づいて同期または非同期のデータ レプリケーションが適切かどうかを判断するために、ネットワーク認定テストを実行することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-539">We recommend that customers run network qualification tests to verify the latency and bandwidth of these connections, and decide whether synchronous or asynchronous data replication is appropriate based on the result.</span></span> <span data-ttu-id="9bf0a-540">また、最適な目標復旧時間 (RTO) の観点からこれらの結果を比較検討することも重要です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-540">It's also important to weigh these results in view of the optimal recovery time objective (RTO).</span></span>

#### <a name="disaster-recovery-diverting-traffic-from-one-region-to-another"></a><span data-ttu-id="9bf0a-541">ディザスター リカバリー: あるリージョンから別のリージョンへのトラフィックの転送</span><span class="sxs-lookup"><span data-stu-id="9bf0a-541">Disaster recovery: diverting traffic from one region to another</span></span>

<span data-ttu-id="9bf0a-542">[Azure Traffic Manager][TM] では、異なる VDC 実装のパブリック エンドポイントのサービス正常性が定期的にチェックされ、対象のエンドポイントに障害が発生した場合は、ドメイン ネーム システム (DNS) を使用してセカンダリ VDC に自動的にルーティングされます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-542">[Azure Traffic Manager][TM] periodically checks the service health of public endpoints in different VDC implementations and, if those endpoints fail, it routes automatically to the secondary VDC using the Domain Name System (DNS).</span></span> 

<span data-ttu-id="9bf0a-543">DNS が使用されるため、Traffic Manager は Azure パブリック エンドポイントにのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-543">Because it uses DNS, Traffic Manager is only for use with Azure public endpoints.</span></span>  <span data-ttu-id="9bf0a-544">通常、このサービスは、VDC 実装の正常なインスタンスで Azure VM および Web アプリへのトラフィックを制御または転送するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-544">The service is typically used to control or divert traffic to Azure VMs and Web Apps in the healthy instance of a VDC implementation.</span></span> <span data-ttu-id="9bf0a-545">Traffic Manager は、Azure リージョン全体で障害が発生した場合でも回復性があり、複数の条件に基づいて、異なる VDC 内のサービス エンドポイントに対するユーザー トラフィックの分散を制御できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-545">Traffic Manager is resilient even in the face of an entire Azure region failing and can control the distribution of user traffic for service endpoints in different VDCs based on several criteria.</span></span> <span data-ttu-id="9bf0a-546">たとえば、特定の VDC のサービスの障害や、クライアントのネットワーク待機時間が最も短い VDC の選択などです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-546">For example, failure of a service in a specific VDC implementation, or selecting the VDC implementation with the lowest network latency.</span></span>

### <a name="summary"></a><span data-ttu-id="9bf0a-547">まとめ</span><span class="sxs-lookup"><span data-stu-id="9bf0a-547">Summary</span></span>

<span data-ttu-id="9bf0a-548">仮想データ センターは、クラウド リソースの使用を最大化し、コストを削減し、システムのガバナンスを簡素化するスケーラブルなアーキテクチャを Azure で作成するためのデータ センター移行のアプローチです。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-548">The Virtual datacenter is an approach to datacenter migration to create a scalable architecture in Azure that maximizes cloud resource use, reduces costs, and simplifies system governance.</span></span> <span data-ttu-id="9bf0a-549">VDC 実装の概念はハブとスポークのトポロジに基づいており、ハブで共通の共有サービスを提供し、スポークで特定のアプリケーション/ワークロードを実行できます。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-549">The VDC is based on a hub and spoke network topology, providing common shared services in the hub and allowing specific applications/workloads in the spokes.</span></span> <span data-ttu-id="9bf0a-550">また、VDC は、さまざまな部門 (中央 IT、DevOps、運用、メンテナンス) すべてが協力すると同時に各部門の役割を果たすという、会社の役割の構造にも対応しています。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-550">The VDC also matches the structure of company roles, where different departments such as Central IT, DevOps, operation and maintenance, all work together while performing their specific roles.</span></span> <span data-ttu-id="9bf0a-551">VDC は、"リフト アンド シフト" 移行の要件を満たしますが、ネイティブなクラウド デプロイにも多くの利点をもたらします。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-551">The VDC satisfies the requirements for a "Lift and Shift" migration, but also provides many advantages to native cloud deployments.</span></span>

## <a name="references"></a><span data-ttu-id="9bf0a-552">参照</span><span class="sxs-lookup"><span data-stu-id="9bf0a-552">References</span></span>

<span data-ttu-id="9bf0a-553">このドキュメントでは以下の機能について説明しました。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-553">The following features were discussed in this document.</span></span> <span data-ttu-id="9bf0a-554">詳細については、次のリンクを参照してください。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-554">Follow the links to learn more.</span></span>

| | | |
|-|-|-|
|<span data-ttu-id="9bf0a-555">ネットワーク機能</span><span class="sxs-lookup"><span data-stu-id="9bf0a-555">Network Features</span></span>|<span data-ttu-id="9bf0a-556">負荷分散</span><span class="sxs-lookup"><span data-stu-id="9bf0a-556">Load Balancing</span></span>|<span data-ttu-id="9bf0a-557">接続</span><span class="sxs-lookup"><span data-stu-id="9bf0a-557">Connectivity</span></span>|
|<span data-ttu-id="9bf0a-558">[Azure Virtual Network][VNet]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-558">[Azure Virtual Networks][VNet]</span></span></br><span data-ttu-id="9bf0a-559">[ネットワーク セキュリティ グループ][NSG]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-559">[Network Security Groups][NSG]</span></span></br><span data-ttu-id="9bf0a-560">[NSG ログ][NSGLog]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-560">[NSG Logs][NSGLog]</span></span></br><span data-ttu-id="9bf0a-561">[ユーザー定義ルーティング][UDR]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-561">[User Defined Routing][UDR]</span></span></br><span data-ttu-id="9bf0a-562">[ネットワーク仮想アプライアンス][NVA]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-562">[Network Virtual Appliances][NVA]</span></span></br><span data-ttu-id="9bf0a-563">[Public IP Addresses][PIP]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-563">[Public IP Addresses][PIP]</span></span></br><span data-ttu-id="9bf0a-564">[Azure DDOS][DDOS]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-564">[Azure DDOS][DDOS]</span></span></br><span data-ttu-id="9bf0a-565">[Azure Firewall][AzFW]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-565">[Azure Firewall][AzFW]</span></span></br><span data-ttu-id="9bf0a-566">[Azure DNS][DNS]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-566">[Azure DNS][DNS]</span></span>|<span data-ttu-id="9bf0a-567">[Azure Front Door][AFD]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-567">[Azure Front Door][AFD]</span></span></br><span data-ttu-id="9bf0a-568">[Azure Load Balancer (L3) ][ALB]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-568">[Azure Load Balancer (L3) ][ALB]</span></span></br><span data-ttu-id="9bf0a-569">[Application Gateway (L7) ][AppGW]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-569">[Application Gateway (L7) ][AppGW]</span></span></br><span data-ttu-id="9bf0a-570">[Web アプリケーション ファイアウォール][WAF]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-570">[Web Application Firewall][WAF]</span></span></br><span data-ttu-id="9bf0a-571">[Azure Traffic Manager][TM]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-571">[Azure Traffic Manager][TM]</span></span></br></br></br></br></br> |<span data-ttu-id="9bf0a-572">[VNet ピアリング][VNetPeering]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-572">[VNet Peering][VNetPeering]</span></span></br><span data-ttu-id="9bf0a-573">[仮想プライベート ネットワーク][VPN]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-573">[Virtual Private Network][VPN]</span></span></br><span data-ttu-id="9bf0a-574">[Virtual WAN][vWAN]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-574">[Virtual WAN][vWAN]</span></span></br><span data-ttu-id="9bf0a-575">[ExpressRoute][ExR]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-575">[ExpressRoute][ExR]</span></span></br><span data-ttu-id="9bf0a-576">[ExpressRoute Direct][ExRD]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-576">[ExpressRoute Direct][ExRD]</span></span></br></br></br></br></br>
|<span data-ttu-id="9bf0a-577">ID</span><span class="sxs-lookup"><span data-stu-id="9bf0a-577">Identity</span></span></br>|<span data-ttu-id="9bf0a-578">監視</span><span class="sxs-lookup"><span data-stu-id="9bf0a-578">Monitoring</span></span></br>|<span data-ttu-id="9bf0a-579">ベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="9bf0a-579">Best Practices</span></span></br>|
|<span data-ttu-id="9bf0a-580">[Azure Active Directory][AAD]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-580">[Azure Active Directory][AAD]</span></span></br><span data-ttu-id="9bf0a-581">[Multi-Factor Authentication][MFA]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-581">[Multi-Factor Authentication][MFA]</span></span></br><span data-ttu-id="9bf0a-582">[ロールベースのアクセス制御][RBAC]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-582">[Role Base Access Controls][RBAC]</span></span></br><span data-ttu-id="9bf0a-583">[Azure AD の既定の役割][Roles]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-583">[Default Azure AD Roles][Roles]</span></span></br></br></br> |<span data-ttu-id="9bf0a-584">[Network Watcher][NetWatch]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-584">[Network Watcher][NetWatch]</span></span></br><span data-ttu-id="9bf0a-585">[Azure Monitor][Monitor]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-585">[Azure Monitor][Monitor]</span></span></br><span data-ttu-id="9bf0a-586">[アクティビティ ログ][ActLog]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-586">[Activity Logs][ActLog]</span></span></br><span data-ttu-id="9bf0a-587">[診断ログ][DiagLog]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-587">[Diagnostic Logs][DiagLog]</span></span></br><span data-ttu-id="9bf0a-588">[Microsoft Operations Management Suite][OMS]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-588">[Microsoft Operations Management Suite][OMS]</span></span></br><span data-ttu-id="9bf0a-589">[Network Performance Monitor][NPM]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-589">[Network Performance Monitor][NPM]</span></span>|<span data-ttu-id="9bf0a-590">[境界ネットワークのベスト プラクティス][DMZ]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-590">[Perimeter Networks Best Practices][DMZ]</span></span></br><span data-ttu-id="9bf0a-591">[サブスクリプション管理][SubMgmt]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-591">[Subscription Management][SubMgmt]</span></span></br><span data-ttu-id="9bf0a-592">[リソース グループの管理][RGMgmt]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-592">[Resource Group Management][RGMgmt]</span></span></br><span data-ttu-id="9bf0a-593">[Azure サブスクリプションの制限][Limits]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-593">[Azure Subscription Limits][Limits]</span></span> </br></br></br>|
|<span data-ttu-id="9bf0a-594">その他の Azure サービス</span><span class="sxs-lookup"><span data-stu-id="9bf0a-594">Other Azure Services</span></span>|
|<span data-ttu-id="9bf0a-595">[Azure Web Apps][WebApps]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-595">[Azure Web Apps][WebApps]</span></span></br><span data-ttu-id="9bf0a-596">[HDInsights (Hadoop) ][HDI]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-596">[HDInsights (Hadoop) ][HDI]</span></span></br><span data-ttu-id="9bf0a-597">[Event Hubs][EventHubs]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-597">[Event Hubs][EventHubs]</span></span></br><span data-ttu-id="9bf0a-598">[Service Bus][ServiceBus]</span><span class="sxs-lookup"><span data-stu-id="9bf0a-598">[Service Bus][ServiceBus]</span></span>|

## <a name="next-steps"></a><span data-ttu-id="9bf0a-599">次の手順</span><span class="sxs-lookup"><span data-stu-id="9bf0a-599">Next Steps</span></span>

 - <span data-ttu-id="9bf0a-600">VDC のハブとスポークの設計の基礎となるテクノロジである [VNet ピアリング][VNetPeering]の詳細を確認します</span><span class="sxs-lookup"><span data-stu-id="9bf0a-600">Explore [VNet Peering][VNetPeering], the underpinning technology for VDC hub and spoke designs</span></span>
 - <span data-ttu-id="9bf0a-601">[Azure AD][AAD] を実装して [RBAC][RBAC] の調査を始めます</span><span class="sxs-lookup"><span data-stu-id="9bf0a-601">Implement [Azure AD][AAD] to get started with [RBAC][RBAC] exploration</span></span>
 - <span data-ttu-id="9bf0a-602">組織の構造、要件、ポリシーに対応する、サブスクリプションおよびリソース管理モデルと RBAC モデルを開発します。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-602">Develop a Subscription and Resource management model and RBAC model to meet the structure, requirements, and policies of your organization.</span></span> <span data-ttu-id="9bf0a-603">最も重要なアクティビティは計画です。</span><span class="sxs-lookup"><span data-stu-id="9bf0a-603">The most important activity is planning.</span></span> <span data-ttu-id="9bf0a-604">再編成、合併、新製品ラインなどの場合は、可能な限り計画してください。<!--Image References--></span><span class="sxs-lookup"><span data-stu-id="9bf0a-604">As much as practical, plan for reorganizations, mergers, new product lines, etc. m <!--Image References--></span></span>
[0]: ./images/networking-redundant-equipment.png "コンポーネントのオーバーラップの例" 
[1]: ./images/networking-vdc-high-level.png "ハブとスポークの VDC の高度な例"
[2]: ./images/networking-hub-spokes-cluster.png "ハブとスポークのクラスター"
[3]: ./images/networking-spoke-to-spoke.png "スポーク間"
[4]: ./images/networking-vdc-block-level-diagram.png "VDC のブロック レベルの図"
[5]: ./images/networking-users-groups-subsciptions.png "ユーザー、グループ、サブスクリプション、プロジェクト"
[6]: ./images/networking-infrastructure-high-level.png "インフラストラクチャの概要図"
[7]: ./images/networking-highlevel-perimeter-networks.png "インフラストラクチャの概要図"
[8]: ./images/networking-vnet-peering-perimeter-neworks.png "VNet ピアリングと境界ネットワーク"
[9]: ./images/networking-high-level-diagram-monitoring.png "監視の概要図"
[10]: ./images/networking-high-level-workloads.png "ワークロードの概要図"

<!--Link References-->
[Limits]: /azure/azure-subscription-service-limits
[Roles]: /azure/role-based-access-control/built-in-roles
[VNet]: /azure/virtual-network/virtual-networks-overview
[NSG]: /azure/virtual-network/virtual-networks-nsg
[DNS]: /azure/dns/dns-overview
[PrivateDNS]: /azure/dns/private-dns-overview
[VNetPeering]: /azure/virtual-network/virtual-network-peering-overview 
[UDR]: /azure/virtual-network/virtual-networks-udr-overview 
[RBAC]: /azure/role-based-access-control/overview
[MFA]: /azure/multi-factor-authentication/multi-factor-authentication
[AAD]: /azure/active-directory/active-directory-whatis
[VPN]: /azure/vpn-gateway/vpn-gateway-about-vpngateways 
[ExR]: /azure/expressroute/expressroute-introduction
[ExRD]: /azure/expressroute/expressroute-erdirect-about
[vWAN]: /azure/virtual-wan/virtual-wan-about
[NVA]: /azure/architecture/reference-architectures/dmz/nva-ha
[AzFW]: /azure/firewall/overview
[SubMgmt]: /azure/architecture/cloud-adoption/appendix/azure-scaffold 
[RGMgmt]: /azure/azure-resource-manager/resource-group-overview
[DMZ]: /azure/best-practices-network-security
[ALB]: /azure/load-balancer/load-balancer-overview
[DDOS]: /azure/virtual-network/ddos-protection-overview
[PIP]: /azure/virtual-network/resource-groups-networking#public-ip-address
[AFD]: /azure/frontdoor/front-door-overview
[AppGW]: /azure/application-gateway/application-gateway-introduction
[WAF]: /azure/application-gateway/application-gateway-web-application-firewall-overview
[Monitor]: /azure/monitoring-and-diagnostics/
[ActLog]: /azure/monitoring-and-diagnostics/monitoring-overview-activity-logs 
[DiagLog]: /azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs
[NSGLog]: /azure/virtual-network/virtual-network-nsg-manage-log
[OMS]: /azure/operations-management-suite/operations-management-suite-overview
[NPM]: /azure/log-analytics/log-analytics-network-performance-monitor
[NetWatch]: /azure/network-watcher/network-watcher-monitoring-overview
[WebApps]: /azure/app-service/
[HDI]: /azure/hdinsight/hdinsight-hadoop-introduction
[EventHubs]: /azure/event-hubs/event-hubs-what-is-event-hubs 
[ServiceBus]: /azure/service-bus-messaging/service-bus-messaging-overview
[TM]: /azure/traffic-manager/traffic-manager-overview
